var Harmony=window.Harmony={JSONP:"JSONP",CORS:"CORS",AUSTRALIA:"au",NEW_ZEALAND:"nz",AUSOTS:"AUSOTS",AUPAF:"AUPAF",GNAF:"GNAF",NZPAF:"NZPAF",NZAD:"NZAD",ID:"id",ATTRIBUTES:"attributes",EID:"eid",ADDRESS:"address",BUILDING_NAME:"buildingName",STATE_TOWN_CITY:"stateTownCity",LOCALITY:"locality",POSTAL:"postal",POSTCODE:"postcode",POSTCODE_LOCALITY:"postcodeLocality",SOURCE_OF_TRUTH:"sourceOfTruth",STATE:"state",STREET_2:"street2",STREET:"street",STREET_ADDRESS:"streetAddress",STREET_NUMBER:"streetNumber",SUBDWELLING:"subdwelling",SUBURB:"suburb",TOWN_CITY:"townCity",FLOOR_LEVEL_TYPE:"floorLevelType",FLOOR_LEVEL_NUMBER:"floorLevelNumber",FLAT_UNIT_TYPE:"flatUnitType",FLAT_UNIT_NUMBER:"flatUnitNumber",LOT_NUMBER:"lotNumber",STREET_NAME:"streetName",STREET_TYPE:"streetType",STREET_SUFFIX:"streetSuffix",FLOOR_LEVEL_TYPES:"floorLevelTypes",POSTAL_TYPES:"postalTypes",STATE_TYPES:"stateTypes",STREET_TYPES:"streetTypes",STREET_SUFFIX_TYPES:"streetSuffixTypes",UNIT_FLAT_TYPES:"unitFlatTypes",SUCCESS:"SUCCESS",ERROR:"ERROR",ENV_DEVELOPMENT:"http://dev.hosted.mastersoftgroup.com",ENV_TEST:"http://test.hosted.mastersoftgroup.com",ENV_PREVIEW:"http://preview.hosted.mastersoftgroup.com",ENV_PREVIEW_SSL:"https://preview-hosted.mastersoftgroup.com",ENV_PRODUCTION:"https://hosted.mastersoftgroup.com",_protocol:"",_baseUrl:"https://hosted.mastersoftgroup.com",_locale:"",_password:"",_username:"",_featureOptions:null,_transactionID:null,address:function(t,e,o){Harmony._lookup("/address",t,e,o)},buildingName:function(t,e,o){Harmony._lookup("/buildingName",t,e,o)},country:function(t,e,o){Harmony._lookup("/country",t,e,o)},generateID:function(t){Harmony._generateID(t)},init:function(t,e,o){Harmony._username=t,Harmony._password=e,Harmony._locale=o,Harmony._protocol=Harmony.CORS,Harmony.generateID(function(t){t.status==Harmony.SUCCESS&&(Harmony._transactionID=t.payload)})},locality:function(t,e,o){Harmony._lookup("/locality",t,e,o)},postal:function(t,e,o){Harmony._lookup("/postal",t,e,o)},postcode:function(t,e,o){Harmony._lookup("/postcode",t,e,o)},state:function(t,e,o){Harmony._lookup("/state",t,e,o)},street:function(t,e,o){Harmony._lookup("/street",t,e,o)},streetNumber:function(t,e,o){Harmony._lookup("/streetNumber",t,e,o)},subdwelling:function(t,e,o){Harmony._lookup("/subdwelling",t,e,o)},suburb:function(t,e,o){Harmony._lookup("/suburb",t,e,o)},townCity:function(t,e,o){Harmony._lookup("/townCity",t,e,o)},transaction:function(t,e){Harmony._lookup("/transaction",null,t,e)},useEnv:function(t){Harmony._baseUrl=t},useProtocol:function(t){Harmony._protocol=t},useFeatureOptions:function(t){Harmony._featureOptions=t},_getAjaxObject:function(){var t=null;return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},_getAuthorisation:function(){return"Basic "+Base64.encode(Harmony._username+":"+Harmony._password)},_getJSONP:function(t,e,o){var n=Harmony._baseUrl+"/harmony/rest/"+Harmony._locale+t,r=e.payload[0],a=document.createElement("script"),u="jsonCallback_"+t.replace(/\//g,"_")+"_"+(new Date).getTime();"function"!=typeof o&&(o=function(){}),window[u]=o,e.Authorization=Harmony._getAuthorisation();for(var i in r)e[i]=r[i];if(delete e.payload,"undefined"!=typeof e.featureOptions&&"object"==typeof e.featureOptions){var s="";for(var f in e.featureOptions)s+=f+":"+e.featureOptions[f]+";";e.featureOptions=s}n+="?callback="+u+"&"+Harmony._getQueryString(e),a.src=n,a.onerror=function(){o({})},document.getElementsByTagName("head")[0].appendChild(a)},_getQueryString:function(t){var e=null,o="";for(e in t)""!=o&&(o+="&"),o+=e+"="+encodeURIComponent(t[e]);return o},_lookup:function(t,e,o,n){var r={payload:[e]};null!=o&&(r.sourceOfTruth=o),null!=Harmony._transactionID&&(r.transactionID=Harmony._transactionID),Harmony._featureOptions&&(r.featureOptions=Harmony._featureOptions),Harmony._protocol==Harmony.JSONP?Harmony._getJSONP(t,r,n):Harmony._protocol==Harmony.CORS&&Harmony._postJSON(t,r,n)},_generateID:function(t){var e={payload:[]};Harmony._getJSONP("/generateID",e,t)},_postJSON:function(t,e,o){var n,r,a=Harmony._baseUrl+"/harmony/rest/"+Harmony._locale+t,u=Harmony._getAjaxObject();u.open("POST",a,!0),u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Authorization",Harmony._getAuthorisation()),u.withCredentials=!0,u.onreadystatechange=function(){4==u.readyState&&(200==u.status?(n=JSON.parse(u.responseText),n.payload||(n.payload=[]),o(n)):o({error:u.status}))},r=JSON.stringify(e),r.replace(/\\"/g,"'"),u.send(r)}};Harmony.Parse={address:function(t,e){"string"==typeof t||t instanceof String?Harmony._lookup("/parse/address",{fullAddress:t},null,e):Harmony._lookup("/parse/address",t,null,e)}},Harmony.Types={floorLevel:function(t,e){Harmony.Types._lookup("/floorLevel",t,e)},postal:function(t,e){Harmony.Types._lookup("/postal",t,e)},state:function(t,e){Harmony.Types._lookup("/state",t,e)},street:function(t,e){Harmony.Types._lookup("/street",t,e)},streetSuffix:function(t,e){Harmony.Types._lookup("/streetSuffix",t,e)},unitFlat:function(t,e){Harmony.Types._lookup("/unitFlat",t,e)},_lookup:function(t,e,o){var n={sourceOfTruth:e};Harmony._postJSON("/type"+t,n,o)}},Harmony.Extensions={identify:function(t,e){Harmony._lookup("/identify",t,null,e)}},Harmony.Validate={address:function(t,e){Harmony._lookup("/validate/address",t,null,e)},email:function(t,e,o){"string"==typeof t||t instanceof String?Harmony._lookup("/validate/email",{address:t},e,o):Harmony._lookup("/validate/email",t,e,o)},phone:function(t,e){Harmony._lookup("/validate/phone",t,null,e)}},Harmony.Company={abn:function(t,e,o,n,r){Harmony._lookup("/companyLookup",{name:t,apiName:e,optionalConfig:o,guid:n},null,r)}};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,o,n,r,a,u,i,s="",f=0;for(t=Base64._utf8_encode(t);f<t.length;)e=t.charCodeAt(f++),o=t.charCodeAt(f++),n=t.charCodeAt(f++),r=e>>2,a=(3&e)<<4|o>>4,u=(15&o)<<2|n>>6,i=63&n,isNaN(o)?u=i=64:isNaN(n)&&(i=64),s=s+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(u)+this._keyStr.charAt(i);return s},decode:function(t){var e,o,n,r,a,u,i,s="",f=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");f<t.length;)r=this._keyStr.indexOf(t.charAt(f++)),a=this._keyStr.indexOf(t.charAt(f++)),u=this._keyStr.indexOf(t.charAt(f++)),i=this._keyStr.indexOf(t.charAt(f++)),e=r<<2|a>>4,o=(15&a)<<4|u>>2,n=(3&u)<<6|i,s+=String.fromCharCode(e),64!=u&&(s+=String.fromCharCode(o)),64!=i&&(s+=String.fromCharCode(n));return s=Base64._utf8_decode(s)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",o=0;o<t.length;o++){var n=t.charCodeAt(o);128>n?e+=String.fromCharCode(n):n>127&&2048>n?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e},_utf8_decode:function(t){for(var e,o="",n=0,r=0,a=0;n<t.length;)r=t.charCodeAt(n),128>r?(o+=String.fromCharCode(r),n++):r>191&&224>r?(a=t.charCodeAt(n+1),o+=String.fromCharCode((31&r)<<6|63&a),n+=2):(a=t.charCodeAt(n+1),e=t.charCodeAt(n+2),o+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&e),n+=3);return o}};"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var o,n,r,a,u=null,i=gap,s=e[t];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(t)),"function"==typeof rep&&(s=rep.call(e,t,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(s)){for(r=s.length,o=0;r>o;o+=1)a[o]=str(o,s)||"null";return n=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+i+"]":"["+a.join(",")+"]",gap=i,n}if(rep&&"object"==typeof rep)for(r=rep.length,o=0;r>o;o+=1)"string"==typeof rep[o]&&(u=rep[o],n=str(u,s),n&&a.push(quote(u)+(gap?": ":":")+n));else for(u in s)Object.prototype.hasOwnProperty.call(s,u)&&(n=str(u,s),n&&a.push(quote(u)+(gap?": ":":")+n));return n=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+i+"}":"{"+a.join(",")+"}",gap=i,n}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap="",indent="",meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep=null;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,o){var n;if(gap="",indent="","number"==typeof o)for(n=0;o>n;n+=1)indent+=" ";else"string"==typeof o&&(indent=o);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var o,n=null,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o=walk(r,n),void 0!==o?r[n]=o:delete r[n]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();