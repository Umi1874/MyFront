(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dddf1446"],{"017b":function(e,t,o){"use strict";var r=o("bc3a"),s=o.n(r),a=o("4360"),i=o("323e"),l=o.n(i),n=o("5c96"),c=s.a.create({baseURL:"/testapi",timeout:5e3});c.interceptors.request.use((function(e){return l.a.start(),a["a"].getters.token,e}),(function(e){return console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e.data;return l.a.done(),t}),(function(e){return console.log("err"+e),Object(n["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var u=c;function m(e){return u({url:"/Member/SendQuoteLink",method:"post",data:e})}function d(e){return u({url:"/Member/CreateMember",method:"post",data:e})}function f(e){return u({url:"/Customer/FindCustomerByAccountNumber",method:"get",params:e})}o.d(t,"c",(function(){return m})),o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return f}))},"0bfe":function(e,t,o){},2178:function(e,t,o){"use strict";var r=o("4360");function s(e){r["a"].commit("ViewModelLocatorService/set_ElectricityQuoteViewModel",e)}function a(e){r["a"].commit("ViewModelLocatorService/set_GasQuoteViewModel",e)}function i(e){r["a"].commit("ViewModelLocatorService/set_PromotionDirectDebitViewModel",e)}function l(e){r["a"].commit("ViewModelLocatorService/set_PersonalDetailsViewModel",e)}function n(e){r["a"].commit("ViewModelLocatorService/set_ExistingContactDetailViewModel",e)}function c(e){r["a"].commit("ViewModelLocatorService/set_PropertyDetailsViewModel",e)}function u(e,t,o){s(e),a(t),i(o)}t["a"]={setElectricityQuoteViewModel:s,setGasQuoteViewModel:a,setPromotionDirectDebitViewModel:i,setViewModelLocator:u,setPersonalDetailsViewModel:l,setExistingContactDetailViewModel:n,setPropertyDetailsViewModel:c}},"3b5b":function(e,t,o){},"580a":function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var r=o("d225"),s=o("bd86"),a=function e(){Object(r["a"])(this,e)};Object(s["a"])(a,"GeneralError","ERROR_GENERAL"),Object(s["a"])(a,"DoubleSubmission","ERROR_DOUBLESUBMISSION"),Object(s["a"])(a,"AddressNotFoundErrorElectricity","ERROR_ADDRESS_NOT_FOUND_ELECTRICITY"),Object(s["a"])(a,"AddressNotFoundErrorGas","ERROR_ADDRESS_NOT_FOUND_GAS"),Object(s["a"])(a,"AddressNotInVICError","ERROR_ADDRESS_NOT_IN_VIC"),Object(s["a"])(a,"NoPrices","ERROR_NOPRICES"),Object(s["a"])(a,"NoFactSheet","ERROR_NO_FACT_SHEET"),Object(s["a"])(a,"HasMeterCharge","ERROR_HASMETERCHARGE"),Object(s["a"])(a,"UnknownNetwork","ERROR_UNKNOWNNETWORK"),Object(s["a"])(a,"InvalidPromoCode","QUOTE_INVALID_CODE_ERROR"),Object(s["a"])(a,"SmsCountDownTimerText","SMS_NOTE"),Object(s["a"])(a,"SmsSent","SMS_SENT"),Object(s["a"])(a,"SmsNotSent","SMS_NOT_SENT"),Object(s["a"])(a,"SmsNote","SMS_NOTE"),Object(s["a"])(a,"SendQuoteSucceed","SENDQUOTE_SUCCEED"),Object(s["a"])(a,"SendQuoteFailed","SENDQUOTE_FAILED"),Object(s["a"])(a,"InvalidAccount","REFERRER_INVALID_ACCOUNT"),Object(s["a"])(a,"NmiExtinct","ERROR_NMIEXTINCT"),Object(s["a"])(a,"NmiExtinctInternal","ERROR_NMIEXTINCTINTERNAL"),Object(s["a"])(a,"CommsMeter","ERROR_COMMSMETER"),Object(s["a"])(a,"AddressMisMatch","ERROR_ADDRESSMISMATCH"),Object(s["a"])(a,"MultipleZoneMapping","ERROR_MULTIPLEZONEMAPPING"),Object(s["a"])(a,"UnmappedNtc","ERROR_UNMAPPEDNTC"),Object(s["a"])(a,"UndeterminedCustomerType","ERROR_UNDETERMINEDCUSTOMERTYPE"),Object(s["a"])(a,"UnableFindPrice","ERROR_UNABLETOFINDPRICE"),Object(s["a"])(a,"BasicMeter","ERROR_BASICMETER"),Object(s["a"])(a,"GasQuoteErrorInElectricity","ERROR_GAS_IN_ELECTRICITY")},"6c2b":function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));o("28a5");var r=o("d225"),s=o("b0b4"),a=o("ed02"),i=function(){function e(){Object(r["a"])(this,e)}return Object(s["a"])(e,null,[{key:"addressLookup",value:function(e){var t=new a["a"].Address,o=this.splitStreetNumberAndSuffix(e.streetNumber);return t.buildingOrPropertyName=e.buildingName,t.flatOrUnitNumber=e.flatUnitNumber,t.flatOrUnitType=e.flatUnitType,t.floorOrLevelNumber=e.floorLevelNumber,t.floorOrLevelType=e.floorLevelType,t.houseNumber=o.number,t.houseNumberSuffix=o.suffix,t.streetName=e.streetName,t.streetType=e.streetType,t.streetSuffix=e.streetSuffix,t.postcode=e.postcode,t.suburbOrPlaceOrLocality=e.locality,t.lotNumber=e.lotNumber,t.stateOrTerritory=e.state,t}},{key:"splitStreetNumberAndSuffix",value:function(e){var t=new a["a"].NumberAndSuffix;if(!e||0===e.trim().length)return t;if(/-/.test(e)){var o=e.split("-"),r=this.splitNumberAndSuffix(o[0]),s=this.splitNumberAndSuffix(o[1]);return t.number=r.number.concat("-",s.number),t.suffix=r.suffix?r.suffix:s.suffix,t}return t=this.splitNumberAndSuffix(e),t}},{key:"splitNumberAndSuffix",value:function(e){var t=new a["a"].NumberAndSuffix,o=e.substring(e.length-1);return/\d/.test(o)?t.number=e:(t.number=e.substring(0,e.length-1),t.suffix=o),t}}]),e}()},"72f9":function(e,t,o){(function(t,o){e.exports=o()})(0,(function(){function e(a,i){if(!(this instanceof e))return new e(a,i);i=Object.assign({},o,i);var l=Math.pow(10,i.precision);this.intValue=a=t(a,i),this.value=a/l,i.increment=i.increment||1/l,i.groups=i.useVedic?s:r,this.s=i,this.p=l}function t(t,o){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],s=o.decimal,a=o.errorOnInvalid,i=Math.pow(10,o.precision),l="number"===typeof t;if(l||t instanceof e)i*=l?t:t.value;else if("string"===typeof t)a=new RegExp("[^-\\d"+s+"]","g"),s=new RegExp("\\"+s,"g"),i=(i*=t.replace(/\((.*)\)/,"-$1").replace(a,"").replace(s,"."))||0;else{if(a)throw Error("Invalid Input");i=0}return i=i.toFixed(4),r?Math.round(i):i}var o={symbol:"$",separator:",",decimal:".",formatWithSymbol:!1,errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#"},r=/(\d)(?=(\d{3})+\b)/g,s=/(\d)(?=(\d\d)+\d\b)/g;return e.prototype={add:function(o){var r=this.s,s=this.p;return e((this.intValue+t(o,r))/s,r)},subtract:function(o){var r=this.s,s=this.p;return e((this.intValue-t(o,r))/s,r)},multiply:function(t){var o=this.s;return e(this.intValue*t/Math.pow(10,o.precision),o)},divide:function(o){var r=this.s;return e(this.intValue/t(o,r,!1),r)},distribute:function(t){for(var o=this.intValue,r=this.p,s=this.s,a=[],i=Math[0<=o?"floor":"ceil"](o/t),l=Math.abs(o-i*t);0!==t;t--){var n=e(i/r,s);0<l--&&(n=0<=o?n.add(1/r):n.subtract(1/r)),a.push(n)}return a},dollars:function(){return~~this.value},cents:function(){return~~(this.intValue%this.p)},format:function(e){var t=this.s,o=t.pattern,r=t.negativePattern,s=t.formatWithSymbol,a=t.symbol,i=t.separator,l=t.decimal;t=t.groups;var n=(this+"").replace(/^-/,"").split("."),c=n[0];return n=n[1],"undefined"===typeof e&&(e=s),(0<=this.value?o:r).replace("!",e?a:"").replace("#","".concat(c.replace(t,"$1"+i)).concat(n?l+n:""))},toString:function(){var e=this.s,t=e.increment;return(Math.round(this.intValue/this.p/t)*t).toFixed(e.precision)},toJSON:function(){return this.value}},e}))},c0d8:function(e,t,o){"use strict";var r=o("0bfe"),s=o.n(r);s.a},c5a7:function(e,t,o){"use strict";var r=o("3b5b"),s=o.n(r);s.a},f20c:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mixin-components-container"},[o("transition",{attrs:{name:"el-zoom-in-top"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.showQuoteForm,expression:"showQuoteForm"}],staticClass:"transition-box",staticStyle:{"margin-left":"60px"}},[o("el-form",{ref:"propertyForm",attrs:{model:e.formData,rules:e.propertyDetailsRules,"label-position":"top","status-icon":""}},[o("el-form-item",{attrs:{label:"I want to quote for:"}},[o("el-radio-group",{attrs:{size:"medium",fill:"#f7941d"},model:{value:e.formData.quoteType,callback:function(t){e.$set(e.formData,"quoteType",t)},expression:"formData.quoteType"}},[o("el-radio",{attrs:{label:e.Enums.QuoteType.Dual,border:""}},[e._v("Electricity and Residential Gas")]),e._v(" "),o("el-radio",{attrs:{label:e.Enums.QuoteType.Electricity,border:""}},[e._v("Electricity Only")]),e._v(" "),o("el-radio",{attrs:{label:e.Enums.QuoteType.Gas,border:""}},[e._v("Residential Gas Only")])],1)],1),e._v(" "),o("el-form-item",[e.formData.quoteType!==e.Enums.QuoteType.Gas?o("el-radio-group",{attrs:{size:"medium"},model:{value:e.formData.lookupType,callback:function(t){e.$set(e.formData,"lookupType",t)},expression:"formData.lookupType"}},[o("el-radio",{attrs:{label:e.Enums.LookupType.Nmi,border:""}},[e._v("Use the NMI from my bill")]),e._v(" "),o("el-radio",{attrs:{label:e.Enums.LookupType.ElectricityAddress,border:""}},[e._v("Use My Address")]),e._v(" "),o("el-radio",{attrs:{label:e.Enums.LookupType.ElectricitySerial,border:""}},[e._v("I know my meter serial Number")])],1):o("el-radio-group",{attrs:{size:"medium"},model:{value:e.formData.lookupType,callback:function(t){e.$set(e.formData,"lookupType",t)},expression:"formData.lookupType"}},[o("el-radio",{attrs:{label:e.Enums.LookupType.Mirn,border:""}},[e._v("Use the MIRN from my bill")]),e._v(" "),o("el-radio",{attrs:{label:e.Enums.LookupType.GasAddress,border:""}},[e._v("Use My Address")]),e._v(" "),o("el-radio",{attrs:{label:e.Enums.LookupType.GasMeter,border:""}},[e._v("I know my gas meter serial Number")])],1)],1),e._v(" "),e.showState?o("el-form-item",{attrs:{label:"State",prop:"region"}},[o("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"Please Select"},model:{value:e.formData.meterQuoteState,callback:function(t){e.$set(e.formData,"meterQuoteState",t)},expression:"formData.meterQuoteState"}},e._l(e.states,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1):e._e(),e._v(" "),e.formData.lookupType===e.Enums.LookupType.Nmi?o("el-form-item",{attrs:{label:"Enter your NMI",prop:"nmi"}},[o("el-input",{attrs:{placeholder:"Your NMI",maxlength:"11",minlength:"10"},model:{value:e.formData.nmi,callback:function(t){e.$set(e.formData,"nmi",t)},expression:"formData.nmi"}})],1):e._e(),e._v(" "),e.formData.lookupType===e.Enums.LookupType.Mirn?o("el-form-item",{attrs:{label:"Enter your MIRN"}},[o("el-input",{attrs:{placeholder:"Your MIRN",maxlength:"11",minlength:"10"},model:{value:e.formData.mirn,callback:function(t){e.$set(e.formData,"mirn",t)},expression:"formData.mirn"}})],1):e._e(),e._v(" "),e.formData.lookupType===e.Enums.LookupType.ElectricityAddress||e.formData.lookupType===e.Enums.LookupType.GasAddress?o("el-form-item",{attrs:{label:"Enter your address"}},[o("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"500px"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"Start typing your address","trigger-on-focus":!0},on:{select:e.handleAddress},model:{value:e.formData.addressResult,callback:function(t){e.$set(e.formData,"addressResult",t)},expression:"formData.addressResult"}})],1):e._e(),e._v(" "),e.formData.lookupType===e.Enums.LookupType.ElectricitySerial?o("el-form-item",{attrs:{label:"Enter your meter serial number(Most accurate way)"}},[o("el-input",{attrs:{placeholder:"Meter Serial Number",maxlength:"12"},model:{value:e.formData.electricityMeterSerial,callback:function(t){e.$set(e.formData,"electricityMeterSerial",t)},expression:"formData.electricityMeterSerial"}})],1):e._e(),e._v(" "),e.formData.lookupType===e.Enums.LookupType.GasMeter?o("el-form-item",{attrs:{label:"Enter your meter serial number"}},[o("el-input",{attrs:{placeholder:"Meter Serial Number",maxlength:"12"},model:{value:e.formData.gasMeterSerial,callback:function(t){e.$set(e.formData,"gasMeterSerial",t)},expression:"formData.gasMeterSerial"}})],1):e._e(),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.onSubmit("propertyForm")}}},[o("strong",[o("i",[e._v("GET QUOTE")])])])],1)],1)],1)]),e._v(" "),e.showQuoteResult?o("quote-result",{attrs:{"view-model-locator":e.viewModelLocator}}):e._e(),e._v(" "),o("el-dialog",{attrs:{title:"We need more information about your site",visible:e.showAskMirnOrMeter,width:"40%"},on:{"update:visible":function(t){e.showAskMirnOrMeter=t}}},[o("el-form",{attrs:{"label-width":"90px","label-position":"top","status-icon":"",rules:e.propertyDetailsRules}},[o("el-form-item",{attrs:{label:"Please provide one of the following:",required:""}},[o("el-radio-group",{attrs:{size:"medium"},model:{value:e.gasAdditionalInfoLookUpType,callback:function(t){e.gasAdditionalInfoLookUpType=t},expression:"gasAdditionalInfoLookUpType"}},[o("el-radio",{attrs:{label:e.Enums.LookupType.Mirn,border:""}},[e._v("Use the MIRN from my bill")]),e._v(" "),o("el-radio",{attrs:{label:e.Enums.LookupType.GasMeter,border:""}},[e._v("I know my gas meter serial Number")])],1)],1),e._v(" "),e.gasAdditionalInfoLookUpType===e.Enums.LookupType.GasMeter?o("el-form-item",{attrs:{label:"Enter your meter serial number *",required:""}},[o("el-input",{attrs:{autosize:"",maxlength:"12"},model:{value:e.formData.gasMeterSerial,callback:function(t){e.$set(e.formData,"gasMeterSerial",t)},expression:"formData.gasMeterSerial"}})],1):e._e(),e._v(" "),e.gasAdditionalInfoLookUpType===e.Enums.LookupType.Mirn?o("el-form-item",{attrs:{label:"Enter your MIRN *",prop:"mirn"}},[o("el-input",{attrs:{autosize:"",maxlength:"11",minlength:"10"},model:{value:e.formData.mirn,callback:function(t){e.$set(e.formData,"mirn",t)},expression:"formData.mirn"}})],1):e._e()],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",round:""},on:{click:e.askMirnOrMeter}},[e._v("Submit")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"Please tell us about your solar installation",visible:e.showPromptSolar,width:"30%"},on:{"update:visible":function(t){e.showPromptSolar=t}}},[o("el-form",[o("el-form-item",{attrs:{label:"I have solar panels installed",required:""}},[o("el-radio-group",{attrs:{size:"medium"},model:{value:e.viewModelLocator.ElectricityQuoteViewModel.hasSolar,callback:function(t){e.$set(e.viewModelLocator.ElectricityQuoteViewModel,"hasSolar",t)},expression:"viewModelLocator.ElectricityQuoteViewModel.hasSolar"}},[o("el-radio",{attrs:{label:!0,border:""}},[e._v("Yes")]),e._v(" "),o("el-radio",{attrs:{label:!1,border:""}},[e._v("No")])],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",round:""},on:{click:e.promptSolar}},[e._v("Submit")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"Select your supply address",visible:e.showSelectAddresses,width:"30%"},on:{"update:visible":function(t){e.showSelectAddresses=t}}},[e._l(e.formData.addresses,(function(t,r){return o("div",{key:r},[o("a",{attrs:{href:"#"},on:{click:function(o){return e.handleNext(t)}}},[t.buildingOrPropertyName?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.buildingOrPropertyName)+" ")]):e._e(),e._v(" "),t.lotNumber?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.lotNumber)+" ")]):e._e(),e._v(" "),t.flatOrUnitType?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.flatOrUnitType)+" ")]):e._e(),e._v(" "),t.flatOrUnitNumber?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.flatOrUnitNumber)+" ")]):e._e(),e._v(" "),t.floorOrLevelType?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.floorOrLevelType)+" ")]):e._e(),e._v(" "),t.floorOrLevelNumber?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.floorOrLevelNumber)+" ")]):e._e(),e._v(" "),t.houseNumber?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.houseNumber)+" ")]):e._e(),e._v(" "),t.houseNumberSuffix?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.houseNumberSuffix)+" ")]):e._e(),e._v(" "),t.streetName?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.streetName)+" ")]):e._e(),e._v(" "),t.streetType?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.streetType)+" ")]):e._e(),e._v(" "),t.streetSuffix?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.streetSuffix)+" ")]):e._e(),e._v(" "),t.suburbOrPlaceOrLocality?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.suburbOrPlaceOrLocality)+" ")]):e._e(),e._v(" "),t.stateOrTerritory?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.stateOrTerritory)+" ")]):e._e(),e._v(" "),t.postcode?o("span",{staticClass:"text-uppercase"},[e._v(e._s(t.postcode)+" ")]):e._e()])])})),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",round:""},on:{click:e.promptSolar}},[e._v("Submit")])],1)],2)],1)},s=[],a=(o("456d"),o("ac6a"),o("593d"));function i(e){return Object(a["a"])({url:"/Quote/ElectricityQuoteByNmi",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/Quote/ElectricityQuoteByMeter",method:"post",data:e})}function n(e){return Object(a["a"])({url:"/Quote/GasQuoteByMeter",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/Quote/GasQuoteByMirn",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/Quote/ElectricityQuoteByNmi",method:"post",data:e})}function m(e){return Object(a["a"])({url:"/Quote/GasDiscovery",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/Quote/NmiDiscovery",method:"post",data:e})}var f={getElectricityQuoteByNmi:i,getElectricityQuoteBySerial:l,getGasQuoteBySerial:n,getGasQuoteByMirn:c,getGasQuoteByAddress:u,getQuoteByQuoteLink:m,addressLookup:d},p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",{staticStyle:{"margin-top":"0"},attrs:{gutter:20}},[e.isEmpty(e.formDataElectricity)?e._e():o("el-col",{attrs:{span:12}},[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[o("strong",[o("i",[e._v("YOUR POWER QUOTE")])])])]),e._v(" "),o("div",{staticClass:"component-item"},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-radio-group",{attrs:{size:"medium"},model:{value:e.formDataElectricity.currentOfferId,callback:function(t){e.$set(e.formDataElectricity,"currentOfferId",t)},expression:"formDataElectricity.currentOfferId"}},e._l(e.formDataElectricity.myOffers,(function(t,r){return o("el-radio-button",{key:r,attrs:{label:t}},[e._v("\n                    "+e._s(e.formDataElectricity.products[t].displayName)+"\n                  ")])})),1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("div",[o("p",[o("strong",[e._v("Quote For:")]),e._v(" "+e._s(e.formDataElectricity.address))]),e._v(" "),o("p",[o("strong",[e._v("Network Distributor:")]),e._v(" "+e._s(e.formDataElectricity.distributorName)+", "),o("strong",[e._v("NMI:")]),e._v(" "+e._s(e.formDataElectricity.identifier)+"\n                    "),this.$store.getters.dev?o("span",[e._v(", "),o("strong",[e._v("NTCs:")]),e._v(" "+e._s(e.formDataElectricity.ntcs)+", "),o("span",[o("strong",[e._v("Site Status:")]),e._v(" "+e._s(e.formDataElectricity.isEnergized?"Energised":"De-energised"))]),o("br"),o("strong",[e._v("Meter Serial Numbers:")]),e._v(" "+e._s(e.formDataElectricity.meterSerialNumbers))]):e._e()])])])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.electricityQuoteTablePrices,stripe:""}},[o("el-table-column",{attrs:{prop:"nameLabel",label:"CHARGES"}}),e._v(" "),o("el-table-column",{attrs:{prop:"unit",label:"UNITS",width:"80"}}),e._v(" "),o("el-table-column",{attrs:{label:"BEFORE DISCOUNT"}},[o("el-table-column",{attrs:{prop:"exGstPrice",label:"EX GST*"}}),e._v(" "),o("el-table-column",{attrs:{prop:"incGstPrice",label:"INC GST*"}})],1),e._v(" "),o("el-table-column",{attrs:{label:"AFTER DISCOUNT"}},[o("el-table-column",{attrs:{prop:"discountableExGstPrice",label:"EX GST*"}}),e._v(" "),o("el-table-column",{attrs:{prop:"discountableIncGstPrice",label:"INC GST*"}})],1),e._v(" "),e.formDataElectricity.showPriceComparison?o("el-table-column",{attrs:{prop:"QTY",label:"QTY"}}):e._e(),e._v(" "),e.formDataElectricity.showPriceComparison?o("el-table-column",{attrs:{prop:"Total",label:"TOTAL"}}):e._e()],1),e._v(" "),e.formDataElectricity.showPriceComparison?o("div",[o("p",[e._v("GST: "),o("strong",[e._v(e._s(e.electricityComparisonResult.gst))])]),e._v(" "),o("p",[e._v("Your GloBird Bill will be ("+e._s(e.formDataElectricity.currentOffer.name)+") Total: "),o("strong",[e._v(e._s(e.electricityComparisonResult.offerTotal))])]),e._v(" "),o("p",[e._v("Your Current Bill Total "),e.formDataElectricity.customerType===e.CustomerType.RESIDENTIAL?o("span",[e._v("(Ex. Concession)")]):e._e(),e._v(": "),o("strong",[e._v(e._s(e.electricityComparisonResult.billTotal))])]),e._v(" "),o("p",[e._v("Savings Per Year: "),o("strong",[e._v(e._s(e.electricityComparisonResult.savingsTotal))])]),e._v(" "),o("p",[e._v("SAVING OF "),o("strong",[e._v(e._s(e.electricityComparisonResult.savingsPercent)+"%")])])]):e._e(),e._v(" "),o("el-divider"),e._v(" "),o("el-row",[o("el-col",{attrs:{span:8}},[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[o("strong",[e._v("COMPARE BILL")])])]),e._v(" "),e.formDataElectricity.currentPrice?o("div",{staticClass:"component-item"},[o("el-form",{attrs:{"label-position":"top",model:e.formDataElectricity.currentBill,size:"small"}},[o("el-form-item",{attrs:{label:"Amount Payable"}},[o("el-input-number",{model:{value:e.formDataElectricity.currentBill.totalDollars,callback:function(t){e.$set(e.formDataElectricity.currentBill,"totalDollars",t)},expression:"formDataElectricity.currentBill.totalDollars"}})],1),e._v(" "),e.formDataElectricity.customerType===e.CustomerType.RESIDENTIAL?o("el-form-item",{attrs:{label:"Concession Received"}},[o("el-input-number",{model:{value:e.formDataElectricity.currentBill.concessionReceived,callback:function(t){e.$set(e.formDataElectricity.currentBill,"concessionReceived",t)},expression:"formDataElectricity.currentBill.concessionReceived"}})],1):e._e(),e._v(" "),e.formDataElectricity.currentPrice?o("div",e._l(e.formDataElectricity.currentPrice.comparableChargeNames,(function(t,r){return o("el-form-item",{key:r,attrs:{label:t}},[o("el-input-number",{model:{value:e.formDataElectricity.currentBill[t],callback:function(o){e.$set(e.formDataElectricity.currentBill,t,o)},expression:"formDataElectricity.currentBill[chargeName]"}})],1)})),1):e._e()],1)],1):e._e()])],1),e._v(" "),o("el-col",{attrs:{span:8}},[o("div",{staticStyle:{"margin-left":"20px"}},[o("p",[o("strong",[e._v("Promotion Code")])]),e._v(" "),o("el-select",{attrs:{filterable:"",placeholder:"please select"},on:{change:e.updatePromoCode},model:{value:e.formDataPromotionDirectDebit.promoCode,callback:function(t){e.$set(e.formDataPromotionDirectDebit,"promoCode",t)},expression:"formDataPromotionDirectDebit.promoCode"}},e._l(Object.keys(e.formDataPromotionDirectDebit.promotions),(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:e}})})),1),e._v(" "),o("p",[o("i",[o("strong",[e._v("Total Discount: "+e._s(e.electricityTotalDiscount)+" %")])])])],1)]),e._v(" "),o("el-col",{attrs:{span:8}},[o("p",[e._v("Direct debit for an extra 1% discount")]),e._v(" "),o("el-switch",{attrs:{"active-text":"Yes","inactive-text":"No",disabled:e.formDataPromotionDirectDebit.directDebitLocked},model:{value:e.formDataPromotionDirectDebit.directDebit,callback:function(t){e.$set(e.formDataPromotionDirectDebit,"directDebit",t)},expression:"formDataPromotionDirectDebit.directDebit"}}),e._v(" "),o("br"),o("br"),e._v(" "),e.hasDualFuelExtraDiscount&&e.quoteType!==e.QuoteType.Dual&&!this.$store.getters.existingCustomer?o("div",[o("p",[e._v("SignUp dual fuel to save more")]),e._v(" "),e.quoteType===e.QuoteType.Electricity?o("el-switch",{attrs:{"active-text":"Dual","inactive-text":"No"},model:{value:e.formDataGas.select,callback:function(t){e.$set(e.formDataGas,"select",t)},expression:"formDataGas.select"}}):e._e(),e._v(" "),e.quoteType===e.QuoteType.Gas?o("el-switch",{attrs:{"active-text":"Dual","inactive-text":"No"},model:{value:e.formDataElectricity.select,callback:function(t){e.$set(e.formDataElectricity,"select",t)},expression:"formDataElectricity.select"}}):e._e()],1):e._e(),e._v(" "),o("div",{staticClass:"buttons"},[o("el-button",{attrs:{round:""},on:{click:function(t){return e.openSendQuoteDialog(e.QuoteType.Electricity)}}},[o("strong",[o("i",[e._v("Send Electricity Quote Email")])])])],1),e._v(" "),o("div",{staticClass:"buttons"}),e._v(" "),o("div",{staticClass:"buttons"},[o("el-button",{attrs:{type:"primary",round:"",disabled:e.formDataElectricity.select&&e.formDataGas.select},on:{click:e.signUpElectricity}},[o("strong",[o("i",[e._v("SIGN UP ELECTRICITY")])])])],1),e._v(" "),o("div",{staticClass:"buttons"},[e.formDataElectricity.select&&e.formDataGas.select?o("el-button",{attrs:{type:"primary",round:""},on:{click:e.signUpDual}},[o("strong",[o("i",[e._v("SIGN UP Dual")])])]):e._e()],1)],1)],1),e._v(" "),o("hr")],1)])],1),e._v(" "),e.isEmpty(e.formDataGas)?e._e():o("el-col",{attrs:{span:12}},[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[o("strong",[o("i",[e._v("YOUR GAS QUOTE")])])])]),e._v(" "),o("div",{staticClass:"component-item"},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-radio-group",{attrs:{size:"medium"},model:{value:e.formDataGas.currentOfferId,callback:function(t){e.$set(e.formDataGas,"currentOfferId",t)},expression:"formDataGas.currentOfferId"}},e._l(e.formDataGas.myOffers,(function(t,r){return o("el-radio-button",{key:r,attrs:{label:t}},[e._v("\n                    "+e._s(e.formDataGas.products[t].displayName)+"\n                  ")])})),1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("div",[o("p",[o("strong",[e._v("Quote For:")]),e._v(" "+e._s(e.formDataGas.address))]),e._v(" "),o("p",[o("strong",[e._v("Network Distributor:")]),e._v(" "+e._s(e.formDataGas.distributorName)+", "),o("strong",[e._v("MIRN:")]),e._v(" "+e._s(e.formDataGas.identifier)+"\n                    "),this.$store.getters.dev?o("span",[e._v(", "),o("strong",[e._v("NTCs:")]),e._v(" "+e._s(e.formDataGas.ntcs)+", "),o("br"),o("strong",[e._v("Meter Serial Numbers:")]),e._v(" "+e._s(e.formDataGas.meterSerialNumbers))]):e._e()])])])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.gasQuoteTablePrices,stripe:""}},[o("el-table-column",{attrs:{prop:"nameLabel",label:"CHARGES"}}),e._v(" "),o("el-table-column",{attrs:{prop:"unit",label:"UNITS",width:"80"}}),e._v(" "),o("el-table-column",{attrs:{label:"BEFORE DISCOUNT"}},[o("el-table-column",{attrs:{prop:"exGstPrice",label:"EX GST*"}}),e._v(" "),o("el-table-column",{attrs:{prop:"incGstPrice",label:"INC GST*"}})],1),e._v(" "),o("el-table-column",{attrs:{label:"AFTER DISCOUNT"}},[o("el-table-column",{attrs:{prop:"discountableExGstPrice",label:"EX GST*"}}),e._v(" "),o("el-table-column",{attrs:{prop:"discountableIncGstPrice",label:"INC GST*"}})],1),e._v(" "),e.formDataGas.showPriceComparison?o("el-table-column",{attrs:{prop:"QTY",label:"QTY"}}):e._e(),e._v(" "),e.formDataGas.showPriceComparison?o("el-table-column",{attrs:{prop:"Total",label:"TOTAL"}}):e._e()],1),e._v(" "),e.formDataGas.showPriceComparison?o("div",[o("p",[e._v("GST: "),o("strong",[e._v(e._s(e.gasComparisonResult.gst))])]),e._v(" "),o("p",[e._v("Your GloBird Bill will be ("+e._s(e.formDataGas.currentOffer.name)+") Total: "),o("strong",[e._v(e._s(e.gasComparisonResult.offerTotal))])]),e._v(" "),o("p",[e._v("Your Current Bill Total "),e.formDataGas.customerType===e.CustomerType.RESIDENTIAL?o("span",[e._v("(Ex. Concession)")]):e._e(),e._v(": "),o("strong",[e._v(e._s(e.gasComparisonResult.billTotal))])]),e._v(" "),o("p",[e._v("Savings Per Year: "),o("strong",[e._v(e._s(e.gasComparisonResult.savingsTotal))])]),e._v(" "),o("p",[e._v("SAVING OF "),o("strong",[e._v(e._s(e.gasComparisonResult.savingsPercent)+"%")])])]):e._e(),e._v(" "),o("el-divider"),e._v(" "),o("el-row",[o("el-col",{attrs:{span:8}},[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[o("strong",[e._v("COMPARE BILL")])])]),e._v(" "),o("div",{staticClass:"component-item"},[o("el-form",{attrs:{"label-position":"top",model:e.formDataGas.currentBill,size:"small"}},[o("el-form-item",{attrs:{label:"Amount Payable"}},[o("el-input-number",{model:{value:e.formDataGas.currentBill.totalDollars,callback:function(t){e.$set(e.formDataGas.currentBill,"totalDollars",t)},expression:"formDataGas.currentBill.totalDollars"}})],1),e._v(" "),e.formDataGas.customerType===e.CustomerType.RESIDENTIAL?o("el-form-item",{attrs:{label:"Concession Received"}},[o("el-input-number",{model:{value:e.formDataGas.currentBill.concessionReceived,callback:function(t){e.$set(e.formDataGas.currentBill,"concessionReceived",t)},expression:"formDataGas.currentBill.concessionReceived"}})],1):e._e(),e._v(" "),e.formDataGas.currentPrice?o("div",e._l(e.formDataGas.currentPrice.comparableChargeNames,(function(t,r){return o("el-form-item",{key:r,attrs:{label:t}},[o("el-input-number",{model:{value:e.formDataGas.currentBill[t],callback:function(o){e.$set(e.formDataGas.currentBill,t,o)},expression:"formDataGas.currentBill[chargeName]"}})],1)})),1):e._e()],1)],1)])],1),e._v(" "),o("el-col",{attrs:{span:8}},[o("div",{staticStyle:{"margin-left":"20px"}},[o("p",[o("strong",[e._v("Promotion Code")])]),e._v(" "),e.formDataPromotionDirectDebit.promoCodeLocked?e._e():o("el-select",{attrs:{filterable:"",placeholder:"please select"},on:{change:e.updatePromoCode},model:{value:e.formDataPromotionDirectDebit.promoCode,callback:function(t){e.$set(e.formDataPromotionDirectDebit,"promoCode",t)},expression:"formDataPromotionDirectDebit.promoCode"}},e._l(Object.keys(e.formDataPromotionDirectDebit.promotions),(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:e}})})),1),e._v(" "),o("p",[o("i",[o("strong",[e._v("Total Discount: "+e._s(e.gasTotalDiscount)+" %")])])])],1)]),e._v(" "),o("el-col",{attrs:{span:8}},[o("p",[e._v("Direct debit for an extra 1% discount")]),e._v(" "),o("el-switch",{attrs:{"active-text":"Yes","inactive-text":"No",disabled:e.formDataPromotionDirectDebit.directDebitLocked},model:{value:e.formDataPromotionDirectDebit.directDebit,callback:function(t){e.$set(e.formDataPromotionDirectDebit,"directDebit",t)},expression:"formDataPromotionDirectDebit.directDebit"}}),e._v(" "),o("br"),o("br"),e._v(" "),e.hasDualFuelExtraDiscount&&e.quoteType!==e.QuoteType.Dual&&!this.$store.getters.existingCustomer?o("div",[o("p",[e._v("SignUp dual fuel to save more")]),e._v(" "),e.quoteType===e.QuoteType.Electricity?o("el-switch",{attrs:{"active-text":"Dual","inactive-text":"No"},model:{value:e.formDataGas.select,callback:function(t){e.$set(e.formDataGas,"select",t)},expression:"formDataGas.select"}}):e._e(),e._v(" "),e.quoteType===e.QuoteType.Gas?o("el-switch",{attrs:{"active-text":"Dual","inactive-text":"No"},model:{value:e.formDataElectricity.select,callback:function(t){e.$set(e.formDataElectricity,"select",t)},expression:"formDataElectricity.select"}}):e._e()],1):e._e(),e._v(" "),o("div",{staticClass:"buttons"},[o("el-button",{attrs:{round:""},on:{click:function(t){return e.openSendQuoteDialog(e.QuoteType.Gas)}}},[o("strong",[o("i",[e._v("Send Gas Quote Email")])])])],1),e._v(" "),o("div",{staticClass:"buttons"}),e._v(" "),o("div",{staticClass:"buttons"},[o("el-button",{attrs:{disabled:e.formDataElectricity.select&&e.formDataGas.select,type:"primary",round:""},on:{click:e.signUpGas}},[o("strong",[o("i",[e._v("SIGN UP GAS")])])])],1)],1)],1),e._v(" "),o("hr")],1)])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"Send Quote",visible:e.showSendQuote,width:"30%"},on:{"update:visible":function(t){e.showSendQuote=t}}},[o("el-form",{attrs:{model:e.quoteEmailForm,"label-width":"90px","label-position":"left"}},[o("el-form-item",{attrs:{label:"Name",required:""}},[o("el-input",{attrs:{autosize:""},model:{value:e.quoteEmailForm.customerName,callback:function(t){e.$set(e.quoteEmailForm,"customerName",t)},expression:"quoteEmailForm.customerName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Email",required:""}},[o("el-input",{attrs:{autosize:""},model:{value:e.quoteEmailForm.customerEmail,callback:function(t){e.$set(e.quoteEmailForm,"customerEmail",t)},expression:"quoteEmailForm.customerEmail"}})],1),e._v(" "),e.quotePromotion.isInternal&&this.$store.getters.dev?o("el-form-item",{attrs:{label:"Message to customer"}},[o("el-input",{attrs:{rows:"7",type:"textarea",autosize:""},model:{value:e.quoteEmailForm.message,callback:function(t){e.$set(e.quoteEmailForm,"message",t)},expression:"quoteEmailForm.message"}})],1):e._e()],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",round:""},on:{click:e.sendQuoteEmail}},[e._v("Send")])],1)],1)],1)},h=[],y=(o("7f7f"),o("c5f6"),o("017b")),D=o("f9ca"),v=o("1e74"),b=o("580a"),g={SystemMessages:b["a"]},E=o("2178"),_=o("e86a"),T=o("72f9"),w=o.n(T),M=o("2ef0"),S={name:"QuoteResult",props:["viewModelLocator"],data:function(){return{QuoteType:v["a"].Enums.QuoteType,CustomerType:v["a"].Enums.CustomerType,quoteEmailForm:{customerName:"",customerEmail:"",message:""},formDataElectricity:{},formDataGas:{},formDataPromotionDirectDebit:{},quoteType:0,showElectricityTab:!1,showGasTab:!1,currentCompareType:0,showSendQuote:!1,quotePromotion:{}}},computed:{formDataElectricitySelect:function(){return this.formDataElectricity.select},formDataGasSelect:function(){return this.formDataGas.select},formDataElectricityCurrentOfferId:function(){return this.formDataElectricity.currentOfferId},formDataGasCurrentOfferId:function(){return this.formDataGas.currentOfferId},formDataElectricityCurrentBill:function(){return this.formDataElectricity.currentBill},formDataGasCurrentBill:function(){return this.formDataGas.currentBill},formDataPromotionDirectDebitDirectDebit:function(){return this.formDataPromotionDirectDebit.directDebit},hasDualFuelExtraDiscount:function(){var e;e=this.isEmpty(this.formDataElectricity)?this.formDataGas.hasDualFuelExtraDiscount():this.isEmpty(this.formDataGas)?this.formDataElectricity.hasDualFuelExtraDiscount():this.formDataElectricity.hasDualFuelExtraDiscount()||this.formDataGas.hasDualFuelExtraDiscount();var t=this.formDataElectricity.show&&this.formDataGas.show;return console.log("hasDualFuelExtraDiscount"),console.log(e),console.log(t),e&&t},electricityTotalDiscount:function(){return Number(100*this.formDataElectricity.currentTotalDiscount).toFixed(0)},gasTotalDiscount:function(){return Number(100*this.formDataGas.currentTotalDiscount).toFixed(0)},electricityQuoteTablePrices:function(){var e=this.formDataElectricity;if(M.isNil(e.currentPrice)||M.isEmpty(e.currentPrice))return null;var t=e.currentPrice.flatPrices,o=[];return t.map((function(e){o.push(Object.assign({},e,{exGstPrice:D["a"].centToDollar(e.fullPrice),incGstPrice:D["a"].centToDollar(e.canApplyGst?D["a"].applyGst(e.fullPrice):e.fullPrice),discountableExGstPrice:D["a"].centToDollar(e.discountedPrice),discountableIncGstPrice:D["a"].centToDollar(e.canApplyGst?D["a"].applyGst(e.discountedPrice):e.discountedPrice)}))})),e.showPriceComparison&&(o=[],t.map((function(t){o.push(Object.assign({},t,{exGstPrice:D["a"].centToDollar(t.fullPrice),incGstPrice:D["a"].centToDollar(t.canApplyGst?D["a"].applyGst(t.fullPrice):t.fullPrice),discountableExGstPrice:D["a"].centToDollar(t.discountedPrice),discountableIncGstPrice:D["a"].centToDollar(t.canApplyGst?D["a"].applyGst(t.discountedPrice):t.discountedPrice),QTY:e.currentComparison.usageAllocation[t.name][t.stepStart].units,Total:w()(t.canApplyGst?D["a"].applyGst(e.currentComparison.usageAllocation[t.name][t.stepStart].paid):e.currentComparison.usageAllocation[t.name][t.stepStart].paid,{formatWithSymbol:!0}).format()}))}))),o},electricityComparisonResult:function(){var e=this.formDataElectricity,t={};return e.showPriceComparison&&(t.gst=w()(e.currentComparison.gst,{formatWithSymbol:!0}).format(),t.offerTotal=w()(e.currentComparison.offerTotal,{formatWithSymbol:!0}).format(),t.billTotal=w()(e.currentBill.getTotalAmountIncludeConcession(),{formatWithSymbol:!0}).format(),t.savingsTotal=w()(e.currentComparison.savingsTotal,{formatWithSymbol:!0}).format(),t.savingsPercent=Number(e.currentComparison.savingsPercent).toFixed(1)),t},gasComparisonResult:function(){var e=this.formDataGas,t={};return e.showPriceComparison&&(t.gst=w()(e.currentComparison.gst,{formatWithSymbol:!0}).format(),t.offerTotal=w()(e.currentComparison.offerTotal,{formatWithSymbol:!0}).format(),t.billTotal=w()(e.currentBill.getTotalAmountIncludeConcession(),{formatWithSymbol:!0}).format(),t.savingsTotal=w()(e.currentComparison.savingsTotal,{formatWithSymbol:!0}).format(),t.savingsPercent=Number(e.currentComparison.savingsPercent).toFixed(1)),t},gasQuoteTablePrices:function(){var e=this.formDataGas;if(M.isNil(e.currentPrice)||M.isEmpty(e.currentPrice))return null;var t=e.currentPrice.flatPrices,o=[];return t.map((function(e){o.push(Object.assign({},e,{exGstPrice:D["a"].centToDollar(e.fullPrice),incGstPrice:D["a"].centToDollar(e.canApplyGst?D["a"].applyGst(e.fullPrice):e.fullPrice),discountableExGstPrice:D["a"].centToDollar(e.discountedPrice),discountableIncGstPrice:D["a"].centToDollar(e.canApplyGst?D["a"].applyGst(e.discountedPrice):e.discountedPrice)}))})),e.showPriceComparison&&(o=[],t.map((function(t){o.push(Object.assign({},t,{exGstPrice:D["a"].centToDollar(t.fullPrice),incGstPrice:D["a"].centToDollar(t.canApplyGst?D["a"].applyGst(t.fullPrice):t.fullPrice),discountableExGstPrice:D["a"].centToDollar(t.discountedPrice),discountableIncGstPrice:D["a"].centToDollar(t.canApplyGst?D["a"].applyGst(t.discountedPrice):t.discountedPrice),QTY:e.currentComparison.usageAllocation[t.name][t.stepStart].units,Total:w()(t.canApplyGst?D["a"].applyGst(e.currentComparison.usageAllocation[t.name][t.stepStart].paid):e.currentComparison.usageAllocation[t.name][t.stepStart].paid,{formatWithSymbol:!0}).format()}))}))),o}},watch:{formDataElectricitySelect:function(e){this.formDataGas.select&&(console.log("".concat(new Date," - formDataElectricitySelect")),this.updatePrice(e),console.log("".concat(new Date," - formDataElectricitySelect")))},formDataGasSelect:function(e){this.formDataElectricity.select&&(console.log("".concat(new Date," - formDataGasSelect")),this.updatePrice(e),console.log("".concat(new Date," - formDataGasSelect")))},formDataElectricityCurrentOfferId:function(){if(this.formDataElectricity.show){console.log("".concat(new Date," - formDataElectricityCurrentOfferId"));var e=this.formDataElectricity.select&&this.formDataGas.select;console.log("formDataElectricityCurrentOfferId in"),this.formDataElectricity.updateMyPrices(this.formDataPromotionDirectDebit.directDebit,this.$store.getters.existingCustomer,e,null),this.formDataElectricity.updateCurrentOffer(this.formDataPromotionDirectDebit,this.$store.getters.existingCustomer,e,null),console.log("formDataElectricityCurrentOfferId out"),this.formDataGas.show&&this.formDataGas.reset(this.formDataPromotionDirectDebit,this.formDataGas.currentOfferId,this.$store.getters.dev,this.$store.getters.existingCustomer,e,null,this.formDataElectricity.currentOffer.name)}},formDataGasCurrentOfferId:function(){if(this.formDataGas.show){console.log("formDataGasCurrentOfferId in");var e=this.formDataGas.select&&this.formDataElectricity.select;this.formDataGas.updateMyPrices(this.formDataPromotionDirectDebit.directDebit,this.$store.getters.existingCustomer,e,null),this.formDataGas.updateCurrentOffer(this.formDataPromotionDirectDebit,this.$store.getters.existingCustomer,e,null),console.log("formDataGasCurrentOfferId out")}},formDataElectricityCurrentBill:{handler:function(e){console.log("".concat(new Date," - formDataElectricityCurrentBill")),this.isEmpty(this.formDataElectricity)||(this.formDataElectricity.updateComparisons(),this.formDataElectricity.updateCurrentComparison())},deep:!0},formDataGasCurrentBill:{handler:function(e){console.log("".concat(new Date," - formDataGasCurrentBill")),this.isEmpty(this.formDataGas)||(this.formDataGas.updateComparisons(),this.formDataGas.updateCurrentComparison())},deep:!0},formDataPromotionDirectDebitDirectDebit:function(e){var t;console.log(e),this.formDataElectricity.show&&(console.log("".concat(new Date," - ele formDataPromotionDirectDebitDirectDebit")),t=this.formDataElectricity.select&&this.formDataGas.select,this.formDataElectricity.updateMyPrices(e,this.$store.getters.existingCustomer,t,null),this.formDataElectricity.updateCurrentOffer(this.formDataPromotionDirectDebit,this.$store.getters.existingCustomer,t,null)),this.formDataGas.show&&(console.log("".concat(new Date," - gas formDataPromotionDirectDebitDirectDebit")),t=this.formDataGas.select&&this.formDataElectricity.select,this.formDataGas.updateMyPrices(e,this.$store.getters.existingCustomer,t,null),this.formDataGas.updateCurrentOffer(this.formDataPromotionDirectDebit,this.$store.getters.existingCustomer,t,null))}},created:function(){if(console.log("created start"),this.formDataElectricity=this.viewModelLocator.ElectricityQuoteViewModel,this.formDataGas=this.viewModelLocator.GasQuoteViewModel,this.formDataPromotionDirectDebit=this.viewModelLocator.PromotionDirectDebitViewModel,this.quoteType=this.viewModelLocator.PropertyDetailsViewModel.quoteType,!this.formDataElectricity.distributorName&&this.formDataElectricity.show)return this.$message.error(g.SystemMessages.UnknownNetwork),void(this.formDataElectricity.show=!1);if(!this.formDataGas.distributorName&&this.formDataGas.show)return this.$message.error(g.SystemMessages.UnknownNetwork),void(this.formDataGas.show=!1);this.formDataElectricity.show&&null==this.formDataElectricity.select&&(this.formDataElectricity.select=this.quoteType!==v["a"].Enums.QuoteType.Gas),this.formDataGas.show&&null==this.formDataGas.select&&(this.formDataGas.select=this.quoteType!==v["a"].Enums.QuoteType.Electricity),this.showElectricityTab=this.quoteType!==v["a"].Enums.QuoteType.Gas&&this.formDataElectricity.show,this.showGasTab=this.quoteType===v["a"].Enums.QuoteType.Gas&&this.formDataGas.show,this.currentCompareType=this.showElectricityTab?v["a"].Enums.QuoteType.Electricity:v["a"].Enums.QuoteType.Gas;var e,t=this.formDataElectricity.currentOffer?this.formDataElectricity.currentOffer.productId:this.$store.getters.electricityOfferId,o=this.formDataGas.currentOffer?this.formDataGas.currentOffer.productId:this.$store.getters.gasOfferId;this.formDataPromotionDirectDebit.directDebit=!0,this.formDataElectricity.show&&(console.log("reset start"),e=this.formDataElectricity.select&&this.formDataGas.select,this.formDataElectricity.reset(this.formDataPromotionDirectDebit,t,this.$store.getters.dev,this.$store.getters.existingCustomer,e,null),console.log("reset end")),this.formDataGas.show&&(console.log("reset start"),e=this.formDataGas.select&&this.formDataElectricity.select,this.formDataGas.reset(this.formDataPromotionDirectDebit,o,this.$store.getters.dev,this.$store.getters.existingCustomer,e,null),console.log("reset end")),console.log("created done")},methods:{updatePrice:function(e){var t=this.formDataPromotionDirectDebit.directDebit;this.formDataElectricity.show&&(this.formDataElectricity.updateMyPrices(t,this.$store.getters.existingCustomer,e,null),this.formDataElectricity.updateCurrentOffer(this.formDataPromotionDirectDebit,this.$store.getters.existingCustomer,e,null)),this.formDataGas.show&&(this.formDataGas.updateMyPrices(t,this.$store.getters.existingCustomer,e,null),this.formDataGas.updateCurrentOffer(this.formDataPromotionDirectDebit,this.$store.getters.existingCustomer,e,null))},updatePromoCode:function(){var e;if(console.log("update PromoCode"),this.formDataElectricity.show&&(e=this.formDataGas.select&&this.formDataElectricity.select,console.log("update PromoCode Ele"+e),this.formDataElectricity.reset(this.formDataPromotionDirectDebit,this.formDataElectricity.currentOffer.productId,this.$store.getters.dev,this.$store.getters.existingCustomer,e,null),this.formDataElectricity.updateCurrentOffer(this.formDataPromotionDirectDebit,this.$store.getters.existingCustomer,e,null)),this.formDataGas.show){console.log("update PromoCode Gas"+e),e=this.formDataElectricity.select&&this.formDataGas.select;var t=this.formDataElectricity.currentOffer?this.formDataElectricity.currentOffer.name:null;this.formDataGas.reset(this.formDataPromotionDirectDebit,this.formDataGas.currentOffer.productId,this.$store.getters.dev,this.$store.getters.existingCustomer,e,null,t),this.formDataGas.updateCurrentOffer(this.formDataPromotionDirectDebit,this.$store.getters.existingCustomer,e,null)}},openSendQuoteDialog:function(e){if(this.formDataPromotionDirectDebit.promoCode){this.quotePromotion=this.formDataElectricity.currentPromotion||this.formDataGas.currentPromotion;var t=this.quotePromotion.salesName;this.quoteEmailForm.message="My name is ".concat(t," from GloBird Energy.Below is the comparison quote you requested.You can sign up with these rates using the specific link below.")}this.showSendQuote=!0},sendQuoteEmail:function(){var e=this,t=this.createViewModel(!0);Object(y["c"])(t).then((function(t){return t?e.$message.success("Successfully sent quote"):e.$message.error("Failed to send quote")})).catch((function(){return e.$message.error("Failed to send quote")})),this.showSendQuote=!1},createViewModel:function(e){var t=this.formDataElectricity.show&&this.formDataElectricity.select,o=this.formDataGas.show&&this.formDataGas.select,r=t&&o,s=[];if(r){var a=this.createFactSheetRequest(r,v["a"].Enums.ServiceType.Electricity),i=this.createFactSheetRequest(r,v["a"].Enums.ServiceType.Gas);s.push(a),s.push(i)}else if(t){var l=this.createFactSheetRequest(r,v["a"].Enums.ServiceType.Electricity);s.push(l)}else if(o){var n=this.createFactSheetRequest(r,v["a"].Enums.ServiceType.Gas);s.push(n)}var c=new v["a"].QuoteLinkViewModel;return this.viewModelLocator.ElectricityQuoteViewModel.select&&(c.nmi=this.formDataElectricity.identifier,c.electricityOfferId=this.formDataElectricity.currentOfferId,c.electricityOfferName=this.formDataElectricity.currentOffer.name),this.viewModelLocator.GasQuoteViewModel.select&&(c.mirn=this.formDataGas.identifier,c.gasOfferId=this.formDataGas.currentOfferId,c.gasOfferName=this.formDataGas.currentOffer.name),c.email=this.quoteEmailForm.customerEmail,c.name=this.quoteEmailForm.customerName,c.message=this.quoteEmailForm.message,c.promoCode=this.formDataPromotionDirectDebit.promoCode,c.dualFuel=Boolean(c.mirn)&&Boolean(c.nmi),c.hasSolar=this.formDataElectricity.hasSolar,c.hasDirectDebit=this.formDataPromotionDirectDebit.directDebit,c.isExistingCustomer=this.$store.getters.existingCustomer,c.quoteVersion=this.formDataElectricity.version||this.formDataGas.version,c.factSheetRequests=s,c},createFactSheetRequest:function(e,t){var o=t===v["a"].Enums.ServiceType.Electricity?this.formDataElectricity:this.formDataGas,r=o.createFactSheetRequest();return r.isDualFuel=e,r.serviceTypeId=t,r},viewFactSheet:function(){},isEmpty:function(e){return M.isEmpty(e)},signUpElectricity:function(){var e=this;this.$confirm("sign up only for electricity?",{confirmButtonText:"yes",cancelButtonText:"no"}).then((function(){e.formDataElectricity.select=!0,e.formDataGas.select=!1,e.next()})).catch((function(){e.$message({type:"info",message:"cancel"})}))},signUpGas:function(){var e=this;this.$confirm("sign up only for gas?",{confirmButtonText:"yes",cancelButtonText:"no"}).then((function(){e.formDataElectricity.select=!1,e.formDataGas.select=!0,e.next()})).catch((function(){e.$message({type:"info",message:"cancel"})}))},signUpDual:function(){this.next()},next:function(){this.formDataGas.select||this.formDataElectricity.select?(E["a"].setViewModelLocator(this.formDataElectricity,this.formDataGas,this.formDataPromotionDirectDebit),this.$store.getters.existingCustomer?this.$store.getters.phoneVerified===_["a"].PhoneVerificationStatus.Verified&&this.$store.getters.existingContactDetailViewModel.accountNumber?this.$router.push({path:"/otherInfo/index"}):this.$router.push({path:"/existingCustomer/index"}):this.$router.push({path:"/personaldetails/index"})):this.$message.error("please select one type")}}},G=S,C=(o("c5a7"),o("2877")),k=Object(C["a"])(G,p,h,!1,null,null,null),O=k.exports,P=(o("6b54"),o("4917"),o("d225")),N=o("b0b4"),Q={GeneralError:1,Gas:2,InvalidLength:3,AllGood:4,VicGas:5,1:"GeneralError",2:"Gas",3:"InvalidLength",4:"AllGood",5:"VicGas"},R=function(){function e(){Object(P["a"])(this,e)}return Object(N["a"])(e,null,[{key:"checkNmi",value:function(e){if(!e||e.length<10||e.length>11)return Q[Q.InvalidLength];var t=e.substring(0,10).toUpperCase(),o=!0;if(11===e.length){var r=e.substring(10).toUpperCase();o=r===this.getCheckSum(t)}if(this.isGas(t))return Q[Q.Gas];var s=/[V](AAA|BBB|CCC|DDD|EEE)[0-9A-VX-Z]{6}/i,a=/VTNIW[0-9A-Z]{5}/i,i=/610[2-3][0-9]{6}|630[5-6][0-9]{6}|620[3-4][0-9]{6}|6001[0-9]{6}|640[7-8][0-9]{6}|6509[0]{2}[0-9]{4}/i,l=/N(AAA|BBB|CCC|DDD|EEE|FFF)[0-9A-VX-Z]{6}|NTTTW[0-9A-Z]{5}/i,n=/4001[0-9]{6}|45080{6}|410[2-4][0-9]{6}|4204[0-9]{6}|431[0-9]{7}|4407[0-9]{6}|460810[0-8][0-9]{3}/i,c=/NGGG[0-9A-VX-Z]{6}|ATNIW[0-9A-Z]{5}/i,u=/7007[0-9]{6}/i,m=/250[0-9]{7}/i,d=/Q(AAA|CCC|DDD|EEE|FFF|GGG)[0-9A-VX-Z]{6}|QB[0-9]{2}[0-9A-VX-Z]{6}|QTNIW[0-9A-Z]{5}/i,f=/31[0-9]{8}|30[0-9]{8}|320200[0-9]{4}/i,p=/SAAA[0-9A-VX-Z]{6}|SASMPL[0-9A-Z]{4}|STNIW[0-9A-Z]{5}/i,h=/200[1-2][0-9]{6}/i,y=/T00000[0-4]{1}[0-9]{3}|TTNIW[0-9A-Z]{5}|T000005000|T000005001/i,D=/8000[0-9]{6}|8590[2-3][0-9]{5}/i,v=/WAAA[0-9A-VX-Z]{6}/i,b=/8021[0-9]{6}/i,g=t.match(s)||t.match(a)||t.match(i)||t.match(l)||t.match(n)||t.match(c)&&"ATNIW00000"!==t||t.match(u)||t.match(m)||t.match(d)&&"QTNIW00000"!==t||t.match(f)||t.match(p)||t.match(h)||t.match(y)&&"T000000000"!==t&&"TTNIW00000"!==t||t.match(D)||t.match(v)||t.match(b);return g&&o?Q[Q.AllGood]:Q[Q.GeneralError]}},{key:"checkMirn",value:function(e){if(!e||e.length<10||e.length>11)return Q[Q.InvalidLength];var t=e.substring(0,10).toUpperCase(),o=!0;if(11===e.length){var r=e.substring(10).toUpperCase();o=r===this.getCheckSum(t)}if(o)return Q[Q.AllGood];var s=/5[2-7]{1}[0-9]{8}/i;return this.isGas(t)||e.match(s)?Q[Q.GeneralError]:Q[Q.Gas]}},{key:"isGas",value:function(e){return Boolean(e.match(/[5][0-9a-z]{9}/i))}},{key:"getCheckSum",value:function(e){for(var t=0,o=!0,r=e.length;r>0;r--){var s=e.charCodeAt(r-1);o&&(s*=2),o=!o;while(s>=1)t+=s%10,s=parseInt((s/10).toString())}var a=((10-t%10)%10).toString();return a}}]),e}(),x=o("6c2b"),L=o("d0f4"),A={components:{QuoteResult:O},data:function(){var e=function(e,t,o){var r=R.checkNmi(t);r===Q[Q.Gas]||r===Q[Q.GeneralError]?o(new Error("Not a valid NMI.")):r===Q[Q.InvalidLength]?o(new Error("NMI should have 10 or 11 characters, and starts with either 6 or V")):o()},t=function(e,t,o){var r=R.checkMirn(t);r===Q[Q.GeneralError]?o(new Error("Not a valid MIRN.")):r===Q[Q.InvalidLength]||r===Q[Q.Gas]?o(new Error("MIRN should have 10 or 11 characters, and starts with 5")):r===Q[Q.VicGas]?o(new Error("Only victorian gas mirn is accepted")):o()};return{Enums:v["a"].Enums,formData:new _["a"].PropertyDetailsViewModel,propertyDetailsRules:{nmi:[{validator:e,trigger:"blur"}],mirn:[{validator:t,trigger:"blur"}]},states:this.$CONST.STATES,showQuoteForm:!0,showQuoteResult:!1,gasAdditionalInfoLookUpType:v["a"].Enums.LookupType.Mirn,showAskMirnOrMeter:!1,showPromptSolar:!1,viewModelLocator:{PromotionDirectDebitViewModel:{},ElectricityQuoteViewModel:{},GasQuoteViewModel:{},PropertyDetailsViewModel:{}},showSelectAddresses:!1,selectAddressTypeObj:{}}},computed:{showState:function(){return this.formData.quoteType!==v["a"].Enums.QuoteType.Gas&&this.formData.lookupType===v["a"].Enums.LookupType.ElectricitySerial}},watch:{formData:{handler:function(e){e.quoteType===v["a"].Enums.QuoteType.Gas?(this.formData.lookupType===v["a"].Enums.LookupType.ElectricitySerial&&(this.formData.lookupType=v["a"].Enums.LookupType.GasMeter),this.formData.lookupType===v["a"].Enums.LookupType.ElectricityAddress&&(this.formData.lookupType=v["a"].Enums.LookupType.GasAddress),this.formData.lookupType===v["a"].Enums.LookupType.Nmi&&(this.formData.lookupType=v["a"].Enums.LookupType.Mirn)):(this.formData.lookupType===v["a"].Enums.LookupType.GasMeter&&(this.formData.lookupType=v["a"].Enums.LookupType.ElectricitySerial),this.formData.lookupType===v["a"].Enums.LookupType.GasAddress&&(this.formData.lookupType=v["a"].Enums.LookupType.ElectricityAddress),this.formData.lookupType===v["a"].Enums.LookupType.Mirn&&(this.formData.lookupType=v["a"].Enums.LookupType.Nmi))},deep:!0}},created:function(){console.log("sign up !");var e=this.$store.getters;Object(L["c"])(e.electricityQuoteViewModel)&&Object(L["c"])(e.gasQuoteViewModel)||Object(L["c"])(e.promotionDirectDebitViewModel)||(console.log("enter"),this.viewModelLocator.ElectricityQuoteViewModel=e.electricityQuoteViewModel,this.viewModelLocator.GasQuoteViewModel=e.gasQuoteViewModel,this.viewModelLocator.PromotionDirectDebitViewModel=e.promotionDirectDebitViewModel,this.viewModelLocator.PropertyDetailsViewModel=e.propertyDetailsViewModel,this.showQuoteResult=!0,this.showQuoteForm=!1)},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;console.log("Start Quote");var o=t.$store.state.user.email,r=!t.$store.state.root.existingCustomer||t.formData.quoteType===v["a"].Enums.QuoteType.Dual,s=t.formData;switch(t.viewModelLocator.PropertyDetailsViewModel=s,t.formData.lookupType){case v["a"].Enums.LookupType.Nmi:t.nmiLookup(s,o,r);break;case v["a"].Enums.LookupType.ElectricitySerial:t.serialLookup(s,o,r);break;case v["a"].Enums.LookupType.ElectricityAddress:if(!t.formData.addressResult||!t.formData.address)return;t.addressLookup(s,o);break;case v["a"].Enums.LookupType.GasAddress:if(!t.formData.addressResult||!t.formData.address)return;t.addressLookup(s,o);break;case v["a"].Enums.LookupType.GasMeter:t.gasMeterLookup(s,o,r);break;case v["a"].Enums.LookupType.Mirn:t.gasMirnLookup(s,o,r);break;default:return}}))},nmiLookup:function(e,t,o){var r=this;if(console.log("ele quoteByNmi"),e.nmi&&""!==e.nmi.trim()){var s=new v["a"].RecaptchaViewModel;10===e.nmi.length?s.nmi=R.getCheckSum(e.nmi):s.nmi=e.nmi,o||(s.mirn=this.viewModelLocator.GasQuoteViewModel.identifier),s.token=t,s.electricityQuoteCheckGas=o,f.getElectricityQuoteByNmi(s).then((function(e){console.log("handle quote success start"),r.quoteSuccessElectricity(e,o)})).catch((function(e){console.log(e),r.$message.error(g.SystemMessages.GeneralError)}))}},addressLookup:function(e,t){var o=this;console.log("addressLookup");var r=new v["a"].RecaptchaViewModel;r.token=t,r.address=e.address,this.$store.getters.existingCustomer&&e.quoteType!==v["a"].Enums.QuoteType.Dual&&e.quoteType!==v["a"].Enums.QuoteType.Electricity?(r.gasQuoteCheckElectricity=!1,f.getGasQuoteByAddress(r).then((function(e){o.addressLookupSuccess(e,t)}))):f.addressLookup(r).then((function(e){o.addressLookupSuccess(e,t)}))},serialLookup:function(e,t,o){var r=this;if(console.log("ele quote By serial"),e.electricityMeterSerial&&""!==e.electricityMeterSerial.trim()){var s=new v["a"].RecaptchaViewModel;o||(s.mirn=this.viewModelLocator.GasQuoteViewModel.identifier),s.serial=e.electricityMeterSerial,s.meterQuoteState=e.meterQuoteState,s.token=t,s.electricityQuoteCheckGas=o,console.log(s),f.getElectricityQuoteBySerial(s).then((function(e){console.log(e),console.log("handle quote success start"),r.quoteSuccessElectricity(e,o)}))}},gasMeterLookup:function(e,t,o){var r=this;if(console.log("gasMeterLookup"),e.gasMeterSerial&&""!==e.gasMeterSerial.trim()){var s=new v["a"].RecaptchaViewModel;o||(s.nmi=this.viewModelLocator.ElectricityQuoteViewModel.identifier),s.serial=e.gasMeterSerial,s.token=t,s.gasQuoteCheckElectricity=o,f.getGasQuoteBySerial(s).then((function(e){console.log(e),console.log("handle quote success start"),r.quoteSuccessGas(e,o)}))}},gasMirnLookup:function(e,t,o){var r=this;if(console.log("gasMirnLookup"),e.mirn&&""!==e.mirn.trim()){var s=new v["a"].RecaptchaViewModel;10===e.mirn.length?s.mirn+=R.getCheckSum(e.mirn):s.mirn=e.mirn,o||(s.nmi=this.viewModelLocator.ElectricityQuoteViewModel.identifier),s.token=t,s.gasQuoteCheckElectricity=o,f.getGasQuoteByMirn(s).then((function(e){console.log(e),console.log("handle quote success start"),r.quoteSuccessGas(e,o)}))}},quoteLinkLookup:function(){console.log("quoteLinkLookup")},querySearch:function(e,t){var o=this,r=[];console.log("start auto comp"),this.formData.addressResult.length<3?t(r):this.$addressService.addressSearch(e).then((function(e){console.log(e.data),r=o.changeToSelect(e.data),console.log(r),t(r)}))},changeToSelect:function(e){var t=[];return e.forEach((function(e){var o={};o.value=e.fullAddress,o.originalObject=e,t.push(o)})),t},handleAddress:function(e){console.log(e);var t=e.originalObject,o=x["a"].addressLookup(t);this.formData.address=o,console.log("handle address success")},addressLookupSuccess:function(e,t){console.log(e),null!=e&&null!=e.addressForSelect&&0!==e.addressForSelect.length&&(this.formData.addresses=e.addressForSelect,this.selectAddressTypeObj={type:"addressLookup",captcha:t},this.showSelectAddresses=!0)},handleNext:function(e){switch(this.selectAddressTypeObj.type){case"addressLookup":this.$store.getters.existingCustomer&&this.formData.quoteType===v["a"].Enums.QuoteType.Electricity?this.electricityMeterAddressSelected(e,this.selectAddressTypeObj.captcha,!1):this.$store.getters.existingCustomer&&this.formData.quoteType===v["a"].Enums.QuoteType.Gas?this.gasMeterAddressSelected(e,this.selectAddressTypeObj.captcha,!1):this.addressSelected(e,this.selectAddressTypeObj.captcha);break;case"quoteSuccessElectricity":this.electricityMeterAddressSelected(e,this.selectAddressTypeObj.captcha,this.selectAddressTypeObj.check);break;case"quoteSuccessGas":this.gasMeterAddressSelected(e,this.selectAddressTypeObj.captcha,this.selectAddressTypeObj.check);break;default:return}this.showSelectAddresses=!1},quoteSuccessElectricity:function(e,t){if(e.electricityResultCode===v["a"].Enums.OssQuoteResultCode.NeedMoreInfo&&e.addressForSelect.length>1)return this.formData.addresses=e.addressForSelect,this.selectAddressTypeObj={type:"quoteSuccessElectricity",captcha:this.$store.state.user.email,check:t},void(this.showSelectAddresses=!0);this.handleElectricityQuoteResult(e,t)},handleElectricityQuoteResult:function(e,t){this.formData.addressResult=null,console.log(e);var o=Object.assign(new _["a"].ElectricityQuoteViewModel,e.electricityQuote);this.viewModelLocator.ElectricityQuoteViewModel=o,o.version=e.version;var r=new _["a"].PromotionDirectDebitViewModel;this.viewModelLocator.PromotionDirectDebitViewModel=r;var s=this.$store.state.user.promotions;if(r.promotions=s,r.defaultPromoCode=Object.keys(s)[0],r.promoCode=Object.keys(s)[0],e.electricityResultCode!==v["a"].Enums.OssQuoteResultCode.Ok){if(e.detailedElectricityResult&&e.detailedElectricityResult===v["a"].QuoteEngineResultCode.ExtinctNmi)return void this.$message.error(g.SystemMessages.NmiExtinctInternal);if(!this.$store.state.root.dev)return void this.$message.error(g.SystemMessages.GeneralError);switch(e.detailedElectricityResult){case v["a"].QuoteEngineResultCode.BasicMeter:return void this.$message.error(g.SystemMessages.BasicMeter);case v["a"].QuoteEngineResultCode.CommsMeter:return void this.$message.error(g.SystemMessages.CommsMeter);case v["a"].QuoteEngineResultCode.UnmappedNtc:return void this.$message.error(g.SystemMessages.UnmappedNtc);case v["a"].QuoteEngineResultCode.UndeterminedCustomerType:return void this.$message.error(g.SystemMessages.UndeterminedCustomerType);case v["a"].QuoteEngineResultCode.UnknownNetwork:return void this.$message.error(g.SystemMessages.UnknownNetwork);default:return void this.$message.error(g.SystemMessages.GeneralError)}}o.hasOfferAndPrice()||this.$message.error(g.SystemMessages.NoPrices),o.show=!0,o.setMaskedIdentifier(!1);var a=!1;if(t){var i=Object.assign(new _["a"].BaseQuoteViewModel,e.gasQuote);if(i.version=e.version,this.viewModelLocator.GasQuoteViewModel=i,this.formData.quoteType===v["a"].Enums.QuoteType.Dual){if(null===e.gasQuote)if(e.gasResultCode===v["a"].Enums.OssQuoteResultCode.AddressMismatch)a=!0;else switch(e.detailedGasResult){case v["a"].Enums.QuoteEngineResultCode.UnknownNetwork:return void this.$message.error(g.SystemMessages.UnknownNetwork);case v["a"].Enums.QuoteEngineResultCode.NoApplicablePrices:case v["a"].Enums.QuoteEngineResultCode.InvalidMirn:case v["a"].Enums.QuoteEngineResultCode.UnknownDistributionZone:return void this.$message.error(g.SystemMessages.UnableFindPrice);case v["a"].Enums.QuoteEngineResultCode.MultipleZoneMapping:return void this.$message.error(g.SystemMessages.MultipleZoneMapping);case v["a"].Enums.QuoteEngineResultCode.UnmappedNtc:return void this.$message.error(g.SystemMessages.UnmappedNtc);case v["a"].Enums.QuoteEngineResultCode.UndeterminedCustomerType:return void this.$message.error(g.SystemMessages.UndeterminedCustomerType);default:return void this.$message.error(g.SystemMessages.GeneralError)}if(!i.hasOfferAndPrice()&&!a)return void this.$message.error(g.SystemMessages.NoPrices)}i.show=i.hasOfferAndPrice(),i.show&&i.setMaskedIdentifier(!1),console.log(i)}console.log("---electricity---"),console.log(o),console.log(r),console.log("---electricity---"),this.$store.state.root.hasSolar&&(o.promptSolar=!1,o.hasSolar=!0),o.promptSolar?this.showPromptSolar=!0:a?this.showAskMirnOrMeter=!0:this.transitionToQuote(o)},quoteSuccessGas:function(e,t){if(this.formData.addressResult=null,e.gasResultCode===v["a"].Enums.OssQuoteResultCode.NeedMoreInfo)return this.formData.addresses=e.addressForSelect,this.selectAddressTypeObj={type:"quoteSuccessGas",captcha:this.$store.state.user.email,check:t},void(this.showSelectAddresses=!0);var o=Object.assign(new _["a"].BaseQuoteViewModel,e.gasQuote);this.viewModelLocator.GasQuoteViewModel=o,o.version=e.version;var r=new _["a"].PromotionDirectDebitViewModel;this.viewModelLocator.PromotionDirectDebitViewModel=r;var s=this.$store.state.user.promotions;if(r.promotions=s,r.defaultPromoCode=Object.keys(s)[0],r.promoCode=Object.keys(s)[0],null==e.gasQuote){if(!this.$store.state.root.dev)return void this.$message.error(g.SystemMessages.GeneralError);if(e.gasResultCode===v["a"].Enums.OssQuoteResultCode.NotAvailable)return void this.$message.error(g.SystemMessages.GasQuoteErrorInElectricity);switch(e.detailedGasResult){case v["a"].QuoteEngineResultCode.UnknownNetwork:return void this.$message.error(g.SystemMessages.UnknownNetwork);case v["a"].QuoteEngineResultCode.NoApplicablePrices:case v["a"].QuoteEngineResultCode.InvalidMirn:case v["a"].QuoteEngineResultCode.UnknownDistributionZone:return void this.$message.error(g.SystemMessages.UnableFindPrice);case v["a"].QuoteEngineResultCode.MultipleZoneMapping:return void this.$message.error(g.SystemMessages.MultipleZoneMapping);case v["a"].QuoteEngineResultCode.UnmappedNtc:return void this.$message.error(g.SystemMessages.UnmappedNtc);case v["a"].QuoteEngineResultCode.UndeterminedCustomerType:return void this.$message.error(g.SystemMessages.UndeterminedCustomerType);default:return void this.$message.error(g.SystemMessages.GeneralError)}}o.hasOfferAndPrice()||this.$message.error(g.SystemMessages.NoPrices);var a=!1;if(o.show=!0,o.setMaskedIdentifier(!1),t&&null!=e.electricityQuote){var i=Object.assign(new _["a"].ElectricityQuoteViewModel,e.electricityQuote);this.viewModelLocator.ElectricityQuoteViewModel=i,i.version=e.version,i.hasOfferAndPrice()&&(i.setMaskedIdentifier(!1),this.$store.getters.hasSolar&&(i.hasSolar=!0,i.promptSolar=!1),a=i.promptSolar,i.show=!0),console.log(i)}console.log("---electricity---"),console.log(o),console.log(r),console.log("---electricity---"),a?this.promptSolar(!1):this.transitionToQuote()},promptSolar:function(e){this.showPromptSolar=!1;var t=this.viewModelLocator.ElectricityQuoteViewModel.hasSolar;this.viewModelLocator.ElectricityQuoteViewModel.hasSolar=Boolean(t),e?this.showAskMirnOrMeter=!0:this.transitionToQuote()},askMirnOrMeter:function(){this.showAskMirnOrMeter=!1,this.gasAdditionalInfoLookUpType===v["a"].Enums.LookupType.GasMeter?(console.log("Quote.LookupType.GasMeter"),this.gasMeterLookup(this.formData,this.$store.getters.email,!1)):(console.log("Quote.LookupType.GasMirn"),this.gasMirnLookup(this.formData,this.$store.getters.email,!1))},transitionToQuote:function(){var e=this;if(console.log("------------start store viewModel into vuex"),E["a"].setPropertyDetailsViewModel(this.viewModelLocator.PropertyDetailsViewModel),this.viewModelLocator.ElectricityQuoteViewModel.show){var t=Object.keys(this.viewModelLocator.ElectricityQuoteViewModel.products);t.map((function(t){e.viewModelLocator.ElectricityQuoteViewModel.products[t]=Object.assign(new v["a"].Product,e.viewModelLocator.ElectricityQuoteViewModel.products[t])})),E["a"].setElectricityQuoteViewModel(this.viewModelLocator.ElectricityQuoteViewModel)}if(this.viewModelLocator.GasQuoteViewModel.show){var o=Object.keys(this.viewModelLocator.GasQuoteViewModel.products);o.map((function(t){e.viewModelLocator.GasQuoteViewModel.products[t]=Object.assign(new v["a"].Product,e.viewModelLocator.GasQuoteViewModel.products[t])})),E["a"].setGasQuoteViewModel(this.viewModelLocator.GasQuoteViewModel)}E["a"].setPromotionDirectDebitViewModel(this.viewModelLocator.PromotionDirectDebitViewModel),console.log("------------end store viewModel into vuex"),this.showQuoteResult=!0,this.showQuoteForm=!1},electricityMeterAddressSelected:function(e,t,o){var r=this,s=new v["a"].RecaptchaViewModel;s.nmi=e.identifier,s.token=t,o||(s.mirn=this.viewModelLocator.GasQuoteViewModel.identifier),f.getElectricityQuoteByNmi(s).then((function(e){console.log(e),console.log("handle quote success start"),r.handleElectricityQuoteResult(e,o)}))},gasMeterAddressSelected:function(e,t,o){var r=this,s=new v["a"].RecaptchaViewModel;s.mirn=e.identifier,s.token=t,o||(s.nmi=this.viewModelLocator.ElectricityQuoteViewModel.identifier),s.gasQuoteCheckElectricity=o,f.getGasQuoteByMirn(s).then((function(e){console.log(e),console.log("handle quote success start"),r.quoteSuccessGas(e,o)}))},addressSelected:function(e,t){var o=this,r=new v["a"].RecaptchaViewModel;r.nmi=e.identifier,r.token=t,this.formData.quoteType===v["a"].Enums.QuoteType.Gas?(r.address=e,r.gasQuoteCheckElectricity=!0,f.getGasQuoteByAddress(r).then((function(e){console.log(e),console.log("handle quote success start"),o.quoteSuccessGas(e,!0)}))):(r.electricityQuoteCheckGas=!0,f.getElectricityQuoteByNmi(r).then((function(e){console.log(e),console.log("handle quote success start"),o.quoteSuccessElectricity(e,!0)})))}}},I=A,$=(o("c0d8"),Object(C["a"])(I,r,s,!1,null,"06c0cd72",null));t["default"]=$.exports}}]);