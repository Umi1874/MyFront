(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40b84297"],{"017b":function(e,t,i){"use strict";var s=i("bc3a"),o=i.n(s),a=i("4360"),l=i("323e"),r=i.n(l),n=i("5c96"),c=o.a.create({baseURL:"/testapi",timeout:5e3});c.interceptors.request.use((function(e){return r.a.start(),a["a"].getters.token,e}),(function(e){return console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e.data;return r.a.done(),t}),(function(e){return console.log("err"+e),Object(n["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var u=c;function d(e){return u({url:"/Member/SendQuoteLink",method:"post",data:e})}function h(e){return u({url:"/Member/CreateMember",method:"post",data:e})}function p(e){return u({url:"/Customer/FindCustomerByAccountNumber",method:"get",params:e})}i.d(t,"c",(function(){return d})),i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return p}))},"0f9c":function(e,t,i){},"202a":function(e,t,i){"use strict";var s=i("0f9c"),o=i.n(s);o.a},8101:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"margin-left":"30px",width:"100%"}},[i("h3",[e._v("Please confirm your details")]),e._v(" "),i("el-divider"),e._v(" "),i("div",{staticClass:"confirm-box flex-row"},[i("div",{staticClass:"confirm-box-left"},e._l(e.confirmInfo[0],(function(t,s){return i("div",{key:s,staticClass:"edit-box"},[i("div",{staticClass:"flex-row",staticStyle:{"justify-content":"space-between",width:"90%","align-items":"center"}},[i("div",{staticClass:"edit-box-title"},[e._v(e._s(t.title))]),e._v(" "),t.ifEdit?i("a",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#2c95e6"},attrs:{href:"javascript:;",id:"a"+t.title.replace(/\s+/g,"")+"Edit"},on:{click:function(i){return e.edit(t.title)}}},[e._v("edit")]):e._e()]),e._v(" "),e._l(t.list,(function(t,s){return i("div",{staticClass:"edit-box-label flex-row",style:t.special&&t.special},[i("div",{staticClass:"edit-box-label-title"},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"edit-box-label-value"},[e._v(e._s(t.value))])])}))],2)})),0),e._v(" "),i("div",{staticClass:"confirm-box-right"},e._l(e.confirmInfo[1],(function(t,s){return i("div",{key:s,staticClass:"edit-box"},[i("div",{staticClass:"flex-row",staticStyle:{"justify-content":"space-between",width:"90%","align-items":"center"}},[i("div",{staticClass:"edit-box-title"},[e._v(e._s(t.title))]),e._v(" "),t.ifEdit?i("a",{staticClass:"el-icon-edit-outline",staticStyle:{color:"#2c95e6"},attrs:{href:"javascript:;",id:"a"+t.title.replace(/\s+/g,"")+"Edit"},on:{click:function(i){return e.edit(t.title)}}},[e._v("edit")]):e._e()]),e._v(" "),e._l(t.list,(function(t,s){return i("div",{staticClass:"edit-box-label flex-row",style:t.special&&t.special},[i("div",{staticClass:"edit-box-label-title"},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"edit-box-label-value"},[e._v(e._s(t.value))])])}))],2)})),0)]),e._v(" "),i("div",{staticStyle:{width:"80%",display:"flex","flex-direction":"column","align-items":"center","padding-bottom":"50px"}},[e._m(0),e._v(" "),i("el-button",{attrs:{type:"primary",id:"btnSubmitSignUp"},on:{click:function(t){return e.confirm()}}},[i("strong",[i("i",[e._v("COMPLETE SIGN UP")])])])],1),e._v(" "),i("el-dialog",{attrs:{title:"SignUpComplete!",visible:e.signUpComplete,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,width:"30%",center:""},on:{"update:visible":function(t){e.signUpComplete=t}}},[i("ul",[i("li",[e._v('Click "New SignUp" to reset signup info and start a new signup')]),e._v(" "),i("li",[e._v('Click "Go Approvals" to open a new window lead to Approvals')])]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",id:"btnNewSignUp"},on:{click:function(t){return e.handleDialogClick(e.DialogClickType.newSignUp)}}},[e._v("New SignUp")]),e._v(" "),i("el-button",{attrs:{type:"primary",id:"btnGpApprovals"},on:{click:function(t){return e.handleDialogClick(e.DialogClickType.goApprovals)}}},[e._v("Go Approvals")])],1)])],1)},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"warning-box"},[i("p",{staticStyle:{"margin-left":"15px","font-weight":"700"}},[e._v("Internal SignUp Notification")]),e._v(" "),i("ul",[i("li",[e._v("Enter Into Agreement GloBird Energy.You are authorised to do so.")]),e._v(" "),i("li",[e._v("The rates and discounts have been discussed.")]),e._v(" "),i("li",[e._v("Welcome Pack by Post or by Email. Please Check Details.")]),e._v(" "),i("li",[e._v("Switching 10 day cooling off period.")]),e._v(" "),i("li",[e._v("Energy Rates, Fees, and tariff can vary over time. You will always be notified in writing prior to any\n          changes.")]),e._v(" "),i("li",[e._v("You authorise credit check.")]),e._v(" "),i("li",[e._v("Concession card, verify with department of human services.")])])])}],a=(i("7f7f"),i("db72")),l=(i("a18c"),i("bc3a"),i("2798"),i("d0f4")),r=i("ee30"),n=i("e86a"),c=i("9150"),u=i("017b"),d=(i("4360"),i("2ef0"),{data:function(){return{DialogClickType:{newSignUp:1,goApprovals:2},signUpComplete:!1,signUpFailed:!1,dev:this.$store.getters.dev,submitted:!1,PhoneVerificationStatus:c["c"],AccountType:n["a"].AccountType,TransferType:n["a"].TransferType,SensitiveLoadType:n["a"].SensitiveLoadType,IdentityType:r["a"].IdentityType,QuoteType:r["a"].QuoteType,electricityQuote:{},gasQuote:{},promotionViewModel:{},personalDetails:{},AdditionalInfo:{},confirmInfo:[]}},created:function(){var e;this.AdditionalInfo=Object(l["a"])(this.$store.state.otherinfo.AdditionalInfo),this.electricityQuote=Object(l["a"])(this.$store.state.ViewModelLocatorService.ElectricityQuoteViewModel),this.gasQuote=Object(l["a"])(this.$store.state.ViewModelLocatorService.GasQuoteViewModel),this.promotionViewModel=Object(l["a"])(this.$store.state.ViewModelLocatorService.PromotionDirectDebitViewModel),this.personalDetails=Object(l["a"])(this.$store.state.ViewModelLocatorService.PersonalDetailsViewModel),console.log("getters"),console.log(this.$store.getters);var t={SignUpBonus:"return `Receive a ${value} signup bonus on your second bill!`",ReferralBonus:"return `Both you and your friend will receive ${value} bonus`",FreeConnection:"return `Free connection fee. Weâ€™ll waive the usual $27.50 connection fee, just notify us before 1:00PM and we will connect you on the next business day or later for free.`",Referrer:"return `Both you and your friend will receive ${value} bonus`",FixedPriceCharge:"return `A one-off application fee of ${value} applies. No lock in contract, your full retail price &amp; discount will be fixed until 1/Jan/2020, except for solar feed in tariff, which is set by the state government.`",ARK:"return `Congratulations! You get 18 Cents per kWh Feed-In for the first 12 kWh per day on average. Offer will only become active after we authenticate this promo code with your approved solar provider. For more info please read our standard T&amp;Cs or contact us on 133 456.`",JuneBonus:"return `Excellent! You will receive a $50 account credit on your second bill if your first bill is paid on time.`"},i=[],s=[],o=[],r=[],n=[],c={};function u(e){return(100*e).toFixed(0)+"%"}for(var d in this.electricityQuote.select&&(s.push({title:"Electricity Supply Address:",value:this.electricityQuote.address}),s.push({title:"NMI:",value:this.electricityQuote.maskedIdentifier}),o.push({title:"Electricity Product:",value:this.electricityQuote.currentOffer.displayName}),this.electricityQuote.currentTotalDiscount&&o.push({title:"On Time Payment Discount:",value:u(this.electricityQuote.currentTotalDiscount)}),this.promotionViewModel.directDebit&&this.electricityQuote.discountConfig.directDebitDiscount&&o.push({title:"Inclusive of Direct Debit Discount:",value:u(this.electricityQuote.discountConfig.directDebitDiscount)}),this.electricityQuote.discountConfig.dualFuelExtraDiscount&&o.push({title:"Including Dual Fuel Extra Discount:",value:u(this.electricityQuote.discountConfig.dualFuelExtraDiscount)}),c=Object(a["a"])({},c,{},this.electricityQuote.discountConfig.benefits)),this.electricityQuote.select&&this.gasQuote.select&&(s.push({title:"",value:""}),o.push({title:"",value:""})),this.gasQuote.select&&(s.push({title:"Gas Supply Address:",value:this.gasQuote.address}),s.push({title:"MIRN:",value:this.gasQuote.maskedIdentifier}),o.push({title:"Gas Product:",value:this.gasQuote.currentOffer.displayName}),this.gasQuote.currentTotalDiscount&&o.push({title:"On Time Payment Discount:",value:u(this.gasQuote.currentTotalDiscount)}),this.promotionViewModel.directDebit&&this.gasQuote.discountConfig.directDebitDiscount&&o.push({title:"Inclusive of Direct Debit Discount:",value:u(this.gasQuote.discountConfig.directDebitDiscount)}),this.gasQuote.discountConfig.dualFuelExtraDiscount&&o.push({title:"Including Dual Fuel Extra Discount:",value:u(this.gasQuote.discountConfig.dualFuelExtraDiscount)}),c=Object(a["a"])({},c,{},this.gasQuote.discountConfig.benefits)),this.electricityQuote.select&&!this.electricityQuote.hasValidCode||this.gasQuote.select&&!this.gasQuote.hasValidCode?o.push({title:"Promo Code:",value:this.promotionViewModel.promoCode,special:{color:"#a94442"}}):o.push({title:"Promo Code:",value:this.promotionViewModel.promoCode}),c){var h=c[d];o.push({title:"",value:new Function("value",t[d])(h)})}if(s.length>0&&i.push({title:"Supply Address, NMI and MIRN",ifEdit:!1,list:s}),o.length>0&&i.push({title:"Product and Offer Detail",ifEdit:!0,list:o}),"Business"!=this.personalDetails.accountType){var p=!1;n.push({title:"Account Type:",value:"Residential"}),n.push({title:"Name:",value:this.personalDetails.firstName+" "+this.personalDetails.lastName}),n.push({title:"Preferred Account Name:",value:this.personalDetails.preferredName}),n.push({title:"Date of Birth:",value:this.personalDetails.dateOfBirth}),n.push({title:"Phone:",value:this.personalDetails.phoneNumber}),this.personalDetails.useExistingAccount?n.push({title:"Phone:",value:this.personalDetails.getMaskedEmail()}):(n.push({title:"Phone:",value:this.personalDetails.emailAddress}),p=!0),r.push({title:"Personal Details",ifEdit:p,list:n})}else{var f=!1;n.push({title:"Account Type:",value:"Business"}),n.push({title:"Company Name:",value:this.personalDetails.companyName}),this.personalDetails.useExistingAccount?n.push({title:"Email:",value:this.personalDetails.getMaskedEmail()}):(n.push({title:"ABN/ACN:",value:this.personalDetails.abnOrAcn}),n.push({title:"Email:",value:this.personalDetails.emailAddress}),f=!0),n.push({title:"Contact Firstname:",value:this.personalDetails.firstName}),n.push({title:"Contact Lastname:",value:this.personalDetails.lastName}),n.push({title:"Phone:",value:this.personalDetails.phoneNumber}),r.push({title:"Business Details",ifEdit:f,list:n})}var v=[];"MOVEIN"==this.AdditionalInfo.Action?(v.push({title:"",value:"Move in on "+this.AdditionalInfo.ElectricityMoveInDate}),this.AdditionalInfo.MoveInComments&&v.push({title:"",value:"Comments:"+this.AdditionalInfo.MoveInComments})):v.push({title:"",value:"Switch my energy supplier to Globird Energy"}),r.push({title:"I want to ...",ifEdit:!0,list:v});var m=[];if(!this.personalDetails.useExistingAccount){switch(this.personalDetails.correspondenceType){case"Email":m.push({title:"",value:"Correspond with me by email"});break;case"SupplyAddress":this.electricityQuote.select&&(m.push({title:"",value:"Electricity Supply Address"}),this.electricityQuote.address&&m.push({title:"",value:this.electricityQuote.address})),this.gasQuote.select&&(m.push({title:"",value:"Gas Supply Address"}),this.gasQuote.address&&m.push({title:"",value:this.gasQuote.address}));break;case"OtherAddress":m.push({title:"",value:"Use the following address:"}),m.push({title:"",value:this.personalDetails.addressResult.address,special:{"text-transform":"uppercase"}});break;default:break}r.push({title:"Correspondence",ifEdit:!0,list:m})}var y=[];switch(this.AdditionalInfo.ConcessionCard&&(y.push({title:"",value:"I have a concession card"}),y.push({title:"",value:"Card type:"+this.AdditionalInfo.ConcessionCardType.name}),y.push({title:"",value:"Card number:"+this.AdditionalInfo.ConcessionCardNumber}),y.push({title:"",value:"Name on card:"+this.AdditionalInfo.ConcessionCardName}),y.push({title:"",value:"Start date:"+this.AdditionalInfo.ConcessionStartDate}),y.push({title:"",value:"End date:"+this.AdditionalInfo.ConcessionEndDate})),this.AdditionalInfo.SensitiveLoadType){case"None":y.push({title:"",value:"My property has no life support equipment."});break;case"SensitiveLoad":y.push({title:"",value:"My property has a sensitive load."});break;case"LifeSupport":y.push({title:"",value:"My property has life support equipment."});break;default:break}r.push({title:"Special Requirements",ifEdit:!0,list:y}),(e=this.confirmInfo).push.apply(e,[i,r])},methods:{handleDialogClick:function(e){switch(e){case this.DialogClickType.newSignUp:this.$store.commit("otherinfo/initState"),this.$store.commit("ViewModelLocatorService/reset"),this.$router.push({name:"new",params:{}});break;case this.DialogClickType.goApprovals:window.open("http://172.16.0.27:1080/OssApprovals/Details/"+this.memberId);break;default:break}},checkPromocode:function(){if(this.electricityQuote.show&&this.electricityQuote.select&&!this.electricityQuote.hasValidCode){var e=PromotionDirectDebitViewModel.defaultPromoCode;return this.$alert("Sorry, that promo code is not valid or may be expired. Try this one: ".concat(e),"Promocode error",{confirmButtonText:"OK"}),!1}if(this.gasQuote.show&&this.gasQuote.select&&!this.gasQuote.hasValidCode){e=PromotionDirectDebitViewModel.defaultPromoCode;return this.$alert("Sorry, that promo code is not valid or may be expired. Try this one: ".concat(e),"Promocode error",{confirmButtonText:"OK"}),!1}return!0},edit:function(e){var t="";switch(console.log(e),e){case"Product and Offer Detail":t="new";break;case"Business Details":case"Personal Details":t="personal details";break;case"I want to ...":t="otherInfo";break;case"Correspondence":t="personal details";break;case"Special Requirements":t="otherInfo";break;default:t="#";break}this.$router.push({name:t,params:{}})},confirm:function(){var e=this;if(this.checkPromocode())if(this.submitted)this.$alert("You have already submitted the request","Submit Error",{confirmButtonText:"OK"});else{this.submitted=!0;var t={};t.AdditionalInfo=this.AdditionalInfo,t.Contact=this.personalDetails,t.ElectricityOfferId=null,t.HasSolar=null,t.Nmi=null,t.ElectricityOfferName=null,t.GasOfferId=null,t.Mirn=null,t.GasOfferName=null,this.electricityQuote.select&&(t.ElectricityOfferId=this.electricityQuote.currentOfferId,t.HasSolar=this.electricityQuote.hasSolar,t.Nmi=this.electricityQuote.identifier,t.ElectricityOfferName=this.electricityQuote.currentOffer.name),this.gasQuote.select&&(t.GasOfferId=this.gasQuote.currentOfferId,t.Mirn=this.gasQuote.identifier,t.GasOfferName=this.gasQuote.currentOffer.name),t.DualFuel=this.electricityQuote.select&&this.gasQuote.select||this.$store.getters.existingCustomer,t.ExistingCustomer=this.$store.getters.existingCustomer,t.DirectDebit=this.promotionViewModel.directDebit,t.PromoCode=this.promotionViewModel.promoCode,t.isPhoneVerified=this.$store.getters.phoneVerified===c["c"].Verified,t.ReferrerCode="",t.salesName=this.$store.getters.name,console.log("confirm"),console.log(t),Object(u["a"])(t).then((function(t){console.log(t),e.memberId=t,e.signUpComplete=!0})).catch((function(t){e.submitted=!1,console.log("err submit"),console.log(t)}))}}}}),h=d,p=(i("202a"),i("2877")),f=Object(p["a"])(h,s,o,!1,null,"405b40be",null);t["default"]=f.exports}}]);